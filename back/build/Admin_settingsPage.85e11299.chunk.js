"use strict";(self.webpackChunkserver_provitask=self.webpackChunkserver_provitask||[]).push([[5895],{39223:(ye,K,e)=>{e.r(K),e.d(K,{SettingsPage:()=>ve});var t=e(27279),J=e(1296),f=e(61166),mt=e(364),S=e(26781),I=e(51447),O=e(92807),Q=e(80902),X=e(95187),gt=e(14155),ut=e(86720),pt=e(14365),ht=e(96220),ft=e(20534),Et=e(49370),vt=e(70627),a=e.n(vt),Lt=e(47533);const Y=({menu:o})=>{const{formatMessage:n}=(0,S.Z)(),{trackUsage:l}=(0,f.useTracking)(),{pathname:s}=(0,I.TH)(),m=o.filter(r=>!r.links.every(i=>i.isDisplayed===!1)).map(r=>({...r,title:r.intlLabel,links:r.links.map(i=>({...i,title:i.intlLabel,name:i.id}))})),g=n({id:"global.settings",defaultMessage:"Settings"}),c=(r=null)=>{l("willNavigate",{from:s,to:r})};return t.createElement(ut.m,{ariaLabel:g},t.createElement(pt.p,{label:g}),t.createElement(ht.Z,null,m.map(r=>t.createElement(ft.D,{key:r.id,label:n(r.intlLabel)},r.links.map(i=>t.createElement(Et.E,{as:Lt.NavLink,withBullet:i.hasNotification,to:i.to,onClick:()=>c(i.to),key:i.id},n(i.intlLabel)))))))};Y.propTypes={menu:a().array.isRequired};const St=Y,Ct=[{async Component(){return await e.e(3455).then(e.bind(e,7513))},to:"/settings/roles",exact:!0},{async Component(){return await Promise.all([e.e(4260),e.e(2544)]).then(e.bind(e,25545))},to:"/settings/roles/duplicate/:id",exact:!0},{async Component(){return await Promise.all([e.e(4260),e.e(2544)]).then(e.bind(e,25545))},to:"/settings/roles/new",exact:!0},{async Component(){return await Promise.all([e.e(4260),e.e(2544)]).then(e.bind(e,63727))},to:"/settings/roles/:id",exact:!0},{async Component(){return await e.e(5199).then(e.bind(e,87901))},to:"/settings/users",exact:!0},{async Component(){return await e.e(4263).then(e.bind(e,93552))},to:"/settings/users/:id",exact:!0},{async Component(){return await e.e(5162).then(e.bind(e,71589))},to:"/settings/webhooks/create",exact:!0},{async Component(){return await e.e(5162).then(e.bind(e,10372))},to:"/settings/webhooks/:id",exact:!0},{async Component(){return await e.e(4121).then(e.bind(e,38542))},to:"/settings/webhooks",exact:!0},{async Component(){return await e.e(8056).then(e.bind(e,71362))},to:"/settings/api-tokens",exact:!0},{async Component(){return await Promise.all([e.e(4260),e.e(765),e.e(2458),e.e(4299)]).then(e.bind(e,1880))},to:"/settings/api-tokens/create",exact:!0},{async Component(){return await Promise.all([e.e(4260),e.e(765),e.e(2458),e.e(92)]).then(e.bind(e,50955))},to:"/settings/api-tokens/:id",exact:!0},{async Component(){return await Promise.all([e.e(4260),e.e(765),e.e(3467),e.e(4816)]).then(e.bind(e,81524))},to:"/settings/transfer-tokens/create",exact:!0},{async Component(){return await e.e(9600).then(e.bind(e,68446))},to:"/settings/transfer-tokens",exact:!0},{async Component(){return await Promise.all([e.e(4260),e.e(765),e.e(3467),e.e(2492)]).then(e.bind(e,63252))},to:"/settings/transfer-tokens/:id",exact:!0}];var yt=e(796),Mt=e(62475),xt=e(34041),x=e(51413),Rt=e(49969),R=e(85898),E=e(35557),b=e(90529),F=e(49899),w=e(33774),Tt=e(82943),k=e(34120),q=e(40464),zt=e(49402),It=e(36364),y=e(52185);const z=750,A=100,_=["image/jpeg","image/png","image/svg+xml"];var Ft=e(30131),At=e(10306),tt=e(2667),Ot=e(40333),Pt=e(25659),Ut=e(69),Zt=e(81565),Dt=e(37386),P=e(61815);const et={localImage:void 0},Bt=(o=et,n)=>(0,P.ZP)(o,l=>{switch(n.type){case"SET_LOCAL_IMAGE":{l.localImage=n.value;break}default:return l}}),U=({onChangeLogo:o,customLogo:n,goTo:l,Component:s,modalTitle:d,next:m,prev:g,currentStep:c})=>{const[{localImage:r},i]=(0,t.useReducer)(Bt,et),{formatMessage:h}=(0,S.Z)(),u=L=>{i({type:"SET_LOCAL_IMAGE",value:L})},v=()=>{l(null)};return c?t.createElement(Zt.P,{labelledBy:"modal",onClose:v},t.createElement(Dt.x,null,t.createElement(E.Z,{fontWeight:"bold",as:"h2",id:"modal"},h(d))),t.createElement(s,{setLocalImage:u,goTo:l,next:m,prev:g,onClose:v,asset:r||n,onChangeLogo:o})):null};U.defaultProps={Component:void 0,currentStep:void 0,customLogo:void 0,modalTitle:void 0,next:null,prev:null},U.propTypes={Component:a().elementType,currentStep:a().string,customLogo:a().shape({name:a().string,url:a().string,width:a().number,height:a().number,ext:a().string}),goTo:a().func.isRequired,modalTitle:a().shape({id:a().string,defaultMessage:a().string}),next:a().string,onChangeLogo:a().func.isRequired,prev:a().string};const Nt=U,nt={currentStep:void 0},Gt=(o=nt,n)=>(0,P.ZP)(o,l=>{switch(n.type){case"GO_TO":{l.currentStep=n.to;break}default:return l}});var jt=e(12826),Z=e(87161),Ht=e(67393),D=e(33832),Wt=e(92602),Vt=e(35090),$t=e(57074),Kt=e(45804),B=e(3785),Jt=e(39706),Qt=e(72450);const Xt={id:"Settings.application.customization.modal.upload.error-format",defaultMessage:"Wrong format uploaded (accepted formats only: jpeg, jpg, png, svg)."},ot={id:"Settings.application.customization.modal.upload.error-size",defaultMessage:"The file uploaded is too large (max dimension: {dimension}x{dimension}, max file size: {size}KB)"},Yt=o=>new Promise(n=>{const l=new FileReader;l.onload=()=>{const s=new Image;s.onload=function(){n({width:s.width,height:s.height})},s.src=l.result},l.readAsDataURL(o)}),bt=(o,n)=>({ext:o.name.split(".").pop(),size:o.size/1e3,name:o.name,url:URL.createObjectURL(o),rawFile:o,width:n.width,height:n.height}),at=async o=>{let n;if(!_.includes(o.type))throw n=new Error("File format"),n.displayMessage=Xt,n;const s=await Yt(o);if(!(s.width<=z&&s.height<=z))throw n=new Error("File sizing"),n.displayMessage=ot,n;const m=bt(o,s);if(!(m.size<=A))throw n=new Error("File sizing"),n.displayMessage=ot,n;return m},wt=(0,Qt.default)(Wt._)`
  opacity: 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,N=({setLocalImage:o,goTo:n,next:l,onClose:s})=>{const{formatMessage:d}=(0,S.Z)(),[m,g]=(0,t.useState)(!1),[c,r]=(0,t.useState)(void 0),i=(0,t.useRef)(null),h=()=>g(!0),u=()=>g(!1),v=M=>{M.preventDefault(),i.current.click()},L=async()=>{u();const M=i.current.files[0];if(M)try{const T=await at(M);o(T),n(l)}catch(T){if(T.displayMessage)r(d(T.displayMessage,{size:A,dimension:z})),i.current.focus();else throw T}},C=()=>m?"primary500":c?"danger600":"neutral300";return t.createElement(t.Fragment,null,t.createElement("form",null,t.createElement(y.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},t.createElement(Vt.g,{name:"logo-upload",error:c},t.createElement("label",{htmlFor:"logo-upload"},t.createElement(R.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(R.k,{paddingTop:9,paddingBottom:7,hasRadius:!0,justifyContent:"center",direction:"column",background:m?"primary100":"neutral100",borderColor:C(),borderStyle:"dashed",borderWidth:"1px",position:"relative",onDragEnter:h,onDragLeave:u},t.createElement($t.J,{color:"primary600",width:`${60/16}rem`,height:`${60/16}rem`,as:Jt.Z,"aria-hidden":!0}),t.createElement(y.x,{paddingTop:3,paddingBottom:5},t.createElement(E.Z,{variant:"delta",as:"span"},d({id:"Settings.application.customization.modal.upload.drag-drop",defaultMessage:"Drag and Drop here or"}))),t.createElement(wt,{accept:_,cursor:"pointer",as:"input",type:"file",name:"files",tabIndex:-1,zIndex:1,onChange:L,ref:i,id:"logo-upload"}),t.createElement(x.z,{type:"button",onClick:v},d({id:"Settings.application.customization.modal.upload.cta.browse",defaultMessage:"Browse files"})),t.createElement(y.x,{paddingTop:6},t.createElement(E.Z,{variant:"pi",textColor:"neutral600"},d({id:"Settings.application.customization.modal.upload.file-validation",defaultMessage:"Max dimension: {dimension}x{dimension}, Max size: {size}KB"},{size:A,dimension:z})))),t.createElement(Kt.c,null)))))),t.createElement(B.m,{startActions:t.createElement(x.z,{onClick:s,variant:"tertiary"},d({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"}))}))};N.defaultProps={next:null},N.propTypes={goTo:a().func.isRequired,next:a().string,onClose:a().func.isRequired,setLocalImage:a().func.isRequired};const kt=N;var qt=e(19098);const _t=async o=>{try{const{get:n}=(0,f.getFetchClient)(),l=await n(o,{responseType:"blob",timeout:8e3});return new File([l.data],l.config.url,{type:l.headers["content-type"]})}catch(n){throw n.displayMessage={id:"Settings.application.customization.modal.upload.error-network",defaultMessage:"Network error"},n}},G=({goTo:o,next:n,onClose:l,setLocalImage:s})=>{const{formatMessage:d}=(0,S.Z)(),[m,g]=(0,t.useState)(""),[c,r]=(0,t.useState)(null),i=u=>{g(u.target.value)},h=async()=>{try{const u=await _t(m),v=await at(u);s(v),o(n)}catch(u){if(u.displayMessage)r(d(u.displayMessage,{size:A,dimension:z}));else throw u}};return t.createElement("form",{onSubmit:u=>{u.preventDefault(),h()}},t.createElement(y.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},t.createElement(qt.o,{label:d({id:"Settings.application.customization.modal.upload.from-url.input-label",defaultMessage:"URL"}),error:c,onChange:i,value:m,name:"logo-url"})),t.createElement(B.m,{startActions:t.createElement(x.z,{onClick:l,variant:"tertiary"},d({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:t.createElement(x.z,{type:"submit"},d({id:"Settings.application.customization.modal.upload.next",defaultMessage:"Next"}))}))};G.defaultProps={next:null},G.propTypes={goTo:a().func.isRequired,next:a().string,onClose:a().func.isRequired,setLocalImage:a().func.isRequired};const te=G,j=({setLocalImage:o,goTo:n,next:l,onClose:s})=>{const{formatMessage:d}=(0,S.Z)();return t.createElement(jt.v,{label:d({id:"Settings.application.customization.modal.tab.label",defaultMessage:"How do you want to upload your assets?"}),variant:"simple"},t.createElement(y.x,{paddingLeft:8,paddingRight:8},t.createElement(Z.m,null,t.createElement(Z.O,null,d({id:"Settings.application.customization.modal.upload.from-computer",defaultMessage:"From computer"})),t.createElement(Z.O,null,d({id:"Settings.application.customization.modal.upload.from-url",defaultMessage:"From url"}))),t.createElement(Ht.i,null)),t.createElement(D.n,null,t.createElement(D.x,null,t.createElement(kt,{onClose:s,setLocalImage:o,goTo:n,next:l})),t.createElement(D.x,null,t.createElement(te,{onClose:s,setLocalImage:o,goTo:n,next:l}))))};j.defaultProps={next:null},j.propTypes={goTo:a().func.isRequired,next:a().string,onClose:a().func.isRequired,setLocalImage:a().func.isRequired};const ee=j;var ne=e(10956),oe=e(72155),ae=e(21350),se=e(77924),le=e(35884),st=e(28510),ie=e(62799);const lt=({asset:o})=>{const{formatMessage:n}=(0,S.Z)();return t.createElement(ne.Z,null,t.createElement(oe.O,null,t.createElement(ae.H,{size:"S",src:o.url})),t.createElement(se.e,null,t.createElement(le.a,null,t.createElement(st.l,null,o.name),t.createElement(st._,null,`${o.ext.toUpperCase()} - ${o.width}\u2715${o.height}`)),t.createElement(ie.E,null,n({id:"Settings.application.customization.modal.pending.card-badge",defaultMessage:"image"}))))};lt.propTypes={asset:a().shape({name:a().string,url:a().string,width:a().number,height:a().number,ext:a().string}).isRequired};const re=lt,H=({onClose:o,asset:n,prev:l,next:s,goTo:d,setLocalImage:m,onChangeLogo:g})=>{const{formatMessage:c}=(0,S.Z)(),r=()=>{m(void 0),d(l)},i=()=>{g(n),d(s)};return t.createElement(t.Fragment,null,t.createElement(y.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},t.createElement(R.k,{justifyContent:"space-between",paddingBottom:6},t.createElement(R.k,{direction:"column",alignItems:"flex-start"},t.createElement(E.Z,{variant:"pi",fontWeight:"bold"},c({id:"Settings.application.customization.modal.pending.title",defaultMessage:"Logo ready to upload"})),t.createElement(E.Z,{variant:"pi",textColor:"neutral500"},c({id:"Settings.application.customization.modal.pending.subtitle",defaultMessage:"Manage the chosen logo before uploading it"}))),t.createElement(x.z,{onClick:r,variant:"secondary"},c({id:"Settings.application.customization.modal.pending.choose-another",defaultMessage:"Choose another logo"}))),t.createElement(y.x,{maxWidth:(0,f.pxToRem)(180)},n.url?t.createElement(re,{asset:n}):null)),t.createElement(B.m,{startActions:t.createElement(x.z,{onClick:o,variant:"tertiary"},c({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"})),endActions:t.createElement(x.z,{onClick:i},c({id:"Settings.application.customization.modal.pending.upload",defaultMessage:"Upload logo"}))}))};H.defaultProps={next:null,prev:null},H.propTypes={goTo:a().func.isRequired,asset:a().shape({name:a().string,url:a().string,width:a().number,height:a().number,ext:a().string}).isRequired,next:a().string,onClose:a().func.isRequired,onChangeLogo:a().func.isRequired,prev:a().string,setLocalImage:a().func.isRequired};const de={upload:{Component:ee,modalTitle:{id:"Settings.application.customization.modal.upload",defaultMessage:"Upload logo"},next:"pending",prev:null},pending:{Component:H,modalTitle:{id:"Settings.application.customization.modal.pending",defaultMessage:"Pending logo"},next:null,prev:"upload"}},W=({canUpdate:o,customLogo:n,defaultLogo:l,hint:s,label:d,onChangeLogo:m,onResetLogo:g})=>{const[{currentStep:c},r]=(0,t.useReducer)(Gt,nt),{Component:i,next:h,prev:u,modalTitle:v}=de[c]||{},{formatMessage:L}=(0,S.Z)(),C=M=>{r({type:"GO_TO",to:M})};return t.createElement(t.Fragment,null,t.createElement(Ft.F,{label:d,selectedSlide:0,hint:s,previousLabel:"",nextLabel:"",onNext:()=>{},onPrevious:()=>{},secondaryLabel:n?.name||"logo.png",actions:t.createElement(At.b,null,t.createElement(tt.h,{disabled:!o,onClick:()=>C(n?"pending":"upload"),label:L({id:"Settings.application.customization.carousel.change-action",defaultMessage:"Change logo"}),icon:t.createElement(Pt.Z,null)}),n&&t.createElement(tt.h,{disabled:!o,onClick:g,label:L({id:"Settings.application.customization.carousel.reset-action",defaultMessage:"Reset logo"}),icon:t.createElement(Ut.Z,null)}))},t.createElement(Ot.q,{label:L({id:"Settings.application.customization.carousel-slide.label",defaultMessage:"Logo slide"})},t.createElement(y.x,{maxHeight:"40%",maxWidth:"40%",as:"img",src:n?.url||l,alt:L({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"})}))),t.createElement(Nt,{Component:i,currentStep:c,onChangeLogo:m,customLogo:n,goTo:C,next:h,prev:u,modalTitle:v}))};W.defaultProps={canUpdate:!1,customLogo:null,hint:null},W.propTypes={canUpdate:a().bool,customLogo:a().shape({url:a().string,name:a().string}),label:a().string.isRequired,hint:a().string,defaultLogo:a().string.isRequired,onChangeLogo:a().func.isRequired,onResetLogo:a().func.isRequired};const it=W;var ce=e(87830),me=e.n(ce);const ge=(o,n)=>me()(o,{menuLogo:{display:n.menuLogo},authLogo:{display:n.authLogo}}),V={menuLogo:{display:null,submit:{rawFile:null,isReset:!1}},authLogo:{display:null,submit:{rawFile:null,isReset:!1}}},ue=(o=V,n)=>(0,P.ZP)(o,l=>{switch(n.type){case"SET_CUSTOM_MENU_LOGO":{l.menuLogo.display=n.value,l.menuLogo.submit.rawFile=n.value.rawFile;break}case"SET_CUSTOM_AUTH_LOGO":{l.authLogo.display=n.value,l.authLogo.submit.rawFile=n.value.rawFile;break}case"RESET_CUSTOM_MENU_LOGO":{l.menuLogo.display=null,l.menuLogo.submit={rawFile:null,isReset:!0};break}case"RESET_CUSTOM_AUTH_LOGO":{l.authLogo.display=null,l.authLogo.submit={rawFile:null,isReset:!0};break}default:return l}}),$=(0,t.forwardRef)(({canUpdate:o,projectSettingsStored:n},l)=>{const{formatMessage:s}=(0,S.Z)(),{trackUsage:d}=(0,f.useTracking)(),{logos:{menu:m,auth:g}}=(0,O.um)(),[{menuLogo:c,authLogo:r},i]=(0,t.useReducer)(ue,V,()=>ge(V,n)),h=C=>{i({type:"SET_CUSTOM_MENU_LOGO",value:C})},u=()=>{d("didClickResetLogo",{logo:"menu"}),i({type:"RESET_CUSTOM_MENU_LOGO"})},v=C=>{i({type:"SET_CUSTOM_AUTH_LOGO",value:C})},L=()=>{d("didClickResetLogo",{logo:"auth"}),i({type:"RESET_CUSTOM_AUTH_LOGO"})};return(0,t.useImperativeHandle)(l,()=>({getValues:()=>({menuLogo:c.submit,authLogo:r.submit})})),t.createElement(y.x,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},t.createElement(E.Z,{variant:"delta",as:"h3"},s({id:"Settings.application.customization",defaultMessage:"Customization"})),t.createElement(E.Z,{variant:"pi",textColor:"neutral600"},s({id:"Settings.application.customization.size-details",defaultMessage:"Max dimension: {dimension}\xD7{dimension}, Max file size: {size}KB"},{dimension:z,size:A})),t.createElement(b.r,{paddingTop:4,gap:4},t.createElement(F.P,{col:6,s:12},t.createElement(it,{canUpdate:o,customLogo:c.display,defaultLogo:m.default,hint:s({id:"Settings.application.customization.menu-logo.carousel-hint",defaultMessage:"Replace the logo in the main navigation"}),label:s({id:"Settings.application.customization.carousel.menu-logo.title",defaultMessage:"Menu logo"}),onChangeLogo:h,onResetLogo:u})),t.createElement(F.P,{col:6,s:12},t.createElement(it,{canUpdate:o,customLogo:r.display,defaultLogo:g.default,hint:s({id:"Settings.application.customization.auth-logo.carousel-hint",defaultMessage:"Replace the logo in the authentication pages"}),label:s({id:"Settings.application.customization.carousel.auth-logo.title",defaultMessage:"Auth logo"}),onChangeLogo:v,onResetLogo:L}))))});$.defaultProps={canUpdate:!1,projectSettingsStored:null},$.propTypes={canUpdate:a().bool,projectSettingsStored:a().shape({menuLogo:a().shape({url:a().string,name:a().string})})};const pe=$,he=o=>{const n=new FormData;return Object.entries(o).forEach(([l,s])=>{s&&s.rawFile instanceof File&&n.append(l,s.rawFile),s&&s.isReset&&n.append(l,null)}),n},fe=()=>null,Ee=()=>{const o=t.useRef(),n=(0,f.useNotification)(),{trackUsage:l}=(0,f.useTracking)(),{formatMessage:s}=(0,S.Z)(),{get:d,post:m}=(0,f.useFetchClient)(),{updateProjectSettings:g}=(0,O.um)(),c=(0,zt.v9)(It._),{formatAPIError:r}=(0,f.useAPIErrorHandler)(),{communityEdition:i,latestStrapiReleaseTag:h,nodeVersion:u,shouldUpdateStrapi:v,strapiVersion:L}=(0,f.useAppInfo)(),C=(0,Q.c)(fe,async()=>(await e.e(5013).then(e.bind(e,65013))).AdminSeatInfoEE),{allowedActions:{canRead:M,canUpdate:T}}=(0,f.useRBAC)(c.settings["project-settings"]);(0,f.useFocusWhenNavigate)();const{data:rt,isLoading:Le}=(0,q.useQuery)(["project-settings"],async()=>{const{data:p}=await d("/admin/project-settings");return p},{cacheTime:0,enabled:M,select(p){return{...p,authLogo:p.authLogo?{...p.authLogo,url:(0,f.prefixFileUrlWithBackendUrl)(p.authLogo.url)}:p.authLogo,menuLogo:p.menuLogo?{...p.menuLogo,url:(0,f.prefixFileUrlWithBackendUrl)(p.menuLogo.url)}:p.menuLogo}}}),Se=(0,q.useMutation)(p=>m("/admin/project-settings",p,{headers:{"Content-Type":"multipart/form-data"}}),{onError(p){n({type:"warning",message:r(p)})},async onSuccess(p){const{menuLogo:dt,authLogo:ct}=p;g({menuLogo:dt?.url,authLogo:ct?.url}),dt?.rawFile&&l("didChangeLogo",{logo:"menu"}),ct?.rawFile&&l("didChangeLogo",{logo:"auth"}),n({type:"success",message:s({id:"app",defaultMessage:"Saved"})})}}),Ce=p=>{p.preventDefault(),Se.mutate(he(o.current.getValues()))};return C?t.createElement(J.A,null,t.createElement(f.SettingsPageTitle,{name:"Application"}),t.createElement(yt.o,null,Le?t.createElement(Mt.a,null,s({id:"Settings.application.isLoading",defaultMessage:"Loading"})):t.createElement("form",{onSubmit:Ce},t.createElement(xt.T,{title:s({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:s({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"}),primaryAction:T&&t.createElement(x.z,{type:"submit",startIcon:t.createElement(Tt.Z,null)},s({id:"global.save",defaultMessage:"Save"}))}),t.createElement(Rt.D,null,t.createElement(R.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(R.k,{direction:"column",alignItems:"stretch",gap:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},t.createElement(E.Z,{variant:"delta",as:"h3"},s({id:"global.details",defaultMessage:"Details"})),t.createElement(b.r,{gap:5,as:"dl"},t.createElement(F.P,{col:6,s:12},t.createElement(E.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},s({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),t.createElement(R.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},t.createElement(E.Z,null,"v",L),v&&t.createElement(w.r,{href:`https://github.com/strapi/strapi/releases/tag/${h}`,isExternal:!0,endIcon:t.createElement(k.Z,null)},s({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"})))),t.createElement(F.P,{col:6,s:12},t.createElement(E.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},s({id:"Settings.application.edition-title",defaultMessage:"current plan"})),t.createElement(R.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},t.createElement(E.Z,null,s({id:"Settings.application.ee-or-ce",defaultMessage:"{communityEdition, select, true {Community Edition} other {Enterprise Edition}}"},{communityEdition:i})),t.createElement(w.r,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:t.createElement(k.Z,null)},s({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),t.createElement(F.P,{col:6,s:12},t.createElement(E.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},s({id:"Settings.application.node-version",defaultMessage:"node version"})),t.createElement(E.Z,{as:"dd"},u)),t.createElement(C,null))),M&&rt&&t.createElement(pe,{canUpdate:T,ref:o,projectSettingsStored:rt})))))):null};function ve(){const{settingId:o}=(0,I.UO)(),{settings:n}=(0,f.useStrapiApp)(),{formatMessage:l}=(0,S.Z)(),{isLoading:s,menu:d}=(0,O.Te)(),m=(0,Q.c)(Ct,async()=>(await e.e(1470).then(e.bind(e,51470))).ROUTES_EE,{combine(r,i){return[...r,...i]},defaultValue:[]}),g=t.useMemo(()=>(0,gt.Z)(m.map(({to:r,Component:i,exact:h})=>(0,X.Z)(i,r,h))),[m]),c=Object.values(n).flatMap(r=>{const{links:i}=r;return i.map(h=>(0,X.Z)(h.Component,h.to,h.exact||!1))});return s?t.createElement(f.LoadingIndicatorPage,null):o?t.createElement(J.A,{sideNav:t.createElement(St,{menu:d})},t.createElement(mt.q,{title:l({id:"global.settings",defaultMessage:"Settings"})}),t.createElement(I.rs,null,t.createElement(I.AW,{path:"/settings/application-infos",component:Ee,exact:!0}),g,c)):t.createElement(I.l_,{to:"/settings/application-infos"})}}}]);
