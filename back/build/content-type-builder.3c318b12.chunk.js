(self.webpackChunkserver_provitask=self.webpackChunkserver_provitask||[]).push([[8880],{71243:(Z,F,a)=>{"use strict";a.d(F,{Z:()=>Fe});var n=a(27279),R=a(52185),p=a(61166),T=a(10751),b=a(66091),A=a(10477),C=a(80792),Y=a(19156),V=a(17014),u=a(70764),E=a(86980),D=a(17786),z=a(4803),w=a(40243),_=a(14830),G=a(74003),S=a(15134),X=a(9864),q=a(71226),ee=a(70627),ne=a.n(ee),ie=a(72450);const ue={biginteger:T.Z,boolean:b.Z,collectionType:A.Z,component:C.Z,contentType:A.Z,date:Y.Z,datetime:Y.Z,decimal:T.Z,dynamiczone:V.Z,email:u.Z,enum:E.Z,enumeration:E.Z,file:D.Z,files:D.Z,float:T.Z,integer:T.Z,json:z.Z,JSON:z.Z,media:D.Z,number:T.Z,password:w.Z,relation:_.Z,richtext:G.Z,singleType:S.Z,string:X.Z,text:X.Z,time:Y.Z,timestamp:Y.Z,uid:q.Z},Be=(0,ie.default)(R.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,xe=({type:Pe,customField:_e,...Qe})=>{const Je=(0,p.useCustomFields)();let je=ue[Pe];if(_e){const{icon:Ge}=Je.get(_e);Ge&&(je=Ge)}return ue[Pe]?n.createElement(Be,{height:(0,p.pxToRem)(24),width:(0,p.pxToRem)(32),shrink:0,...Qe,"aria-hidden":!0},n.createElement(R.x,{as:je})):null};xe.defaultProps={customField:null},xe.propTypes={type:ne().string.isRequired,customField:ne().string};const Fe=xe},25237:(Z,F,a)=>{"use strict";a.d(F,{c:()=>ta});var n=a(43406),R=a(78659),p=a(43808),T=a(75894),b=a(98447),A=a(13931),C=a(98481),Y=a(35609),V=a(39622),u=a(87203),E=a(9964),D=a(24630),z=a(85021),w=a(95908),_=a(4551),G=a(12048),S=a(46873),X=a(34902),q=a(87343),ee=a(40710),ne=a(82943),ie=a(62692),ue=a(48401),Be=a(38972),xe=a(18602),Fe=a(31702),Pe=a(28616),_e=a(83642),Qe=a(44431),Je=a(27712),je=a(88225),Ge=a(70755),yt=a(92297),et=a(62160),er=a(55798),tr=a(7760),Dt=a(97338),Lt=a(16694),$t=a(94294),St=a(9597),an=a(88898),pe=a(13150),It=a(26981),rn=a(84207),on=a(15764),Et=a(62117),lt=a(64302),sn=a(4522),ln=a(22905),dn=a(62061),cn=a(52923),un=a(31524),Bt=a(25242),Ft=a(85758),Nt=a(9947),Ut=a(8930),bt=a(83586),Wt=a(17012),jt=a(30676),nr=a(85555),mn=a(96436),pn=a(34027),gn=a(46301),oe=a(62526),fn=a(55103),hn=a(3760),yn=a(71217),En=a(14063),bn=a(2312),vn=a(92056),Kt=a(7040),Cn=a(38849),Tn=a(3071),Mn=a(20645),ze=a(24233),xn=a(57600),Rn=a(13907),An=a(9855),On=a(66390),Zn=a(16760),Pn=a(70414),Dn=a(9874),_t=a(75759),Ln=a(59620),$n=a(9663),Sn=a(71019),vt=a(86739),In=a(36916),ot=a(3440),Bn=a(75327),Fn=a(99842),Nn=a(25659),zt=a(71928),ar=a(41720),kt=a(24780),Un=a(56023),Wn=a(74645),Ct=a(51045),wt=a(94936),jn=a(65638),Kn=a(77335),_n=a(89577),zn=a(1945),kn=a(4284),wn=a(28073),Vn=a(30142),Gn=a(51367),Hn=a(27920),Yn=a(3129),Xn=a(43498),Tt=a(50250),qn=a(74727),Vt=a(36602),Qn=a(96911),Gt=a(29460),He=a(27336),Jn=a(79038),Ke=a(3297),Ht=a(27001),m=a(87856),ea=a(83373),Mt=a(88224),ke=a(119),tt=a(68129),ce=a(76946),rr=a(41433);const ta={alien:n.Z,apps:R.Z,archive:p.Z,arrowDown:T.Z,arrowLeft:b.Z,arrowRight:A.Z,arrowUp:C.Z,attachment:Y.Z,bell:V.Z,bold:u.Z,book:E.Z,briefcase:D.Z,brush:z.Z,bulletList:w.Z,calendar:_.Z,car:G.Z,cast:S.Z,chartBubble:X.Z,chartCircle:q.Z,chartPie:ee.Z,check:ne.Z,clock:ie.Z,cloud:ue.Z,code:Be.Z,cog:xe.Z,collapse:Fe.Z,command:Pe.Z,connector:_e.Z,crop:Qe.Z,crown:Je.Z,cube:je.Z,cup:Ge.Z,cursor:yt.Z,dashboard:et.Z,database:er.Z,discuss:tr.Z,doctor:Dt.Z,earth:Lt.Z,emotionHappy:$t.Z,emotionUnhappy:St.Z,envelop:an.Z,exit:pe.Z,expand:It.Z,eye:rn.Z,feather:on.Z,file:Et.Z,fileError:lt.Z,filePdf:sn.Z,filter:ln.Z,folder:dn.Z,gate:cn.Z,gift:un.Z,globe:Bt.Z,grid:Ft.Z,handHeart:Nt.Z,hashtag:Ut.Z,headphone:bt.Z,heart:Wt.Z,house:jt.Z,information:nr.Z,italic:mn.Z,key:pn.Z,landscape:gn.Z,layer:oe.Z,layout:fn.Z,lightbulb:hn.Z,link:yn.Z,lock:En.Z,magic:bn.Z,manyToMany:vn.Z,manyToOne:Kt.Z,manyWays:Cn.Z,medium:Tn.Z,message:Mn.Z,microphone:ze.Z,monitor:xn.Z,moon:Rn.Z,music:An.Z,oneToMany:On.Z,oneToOne:Zn.Z,oneWay:Pn.Z,paint:Dn.Z,paintBrush:_t.Z,paperPlane:Ln.Z,pencil:$n.Z,phone:Sn.Z,picture:vt.Z,pin:In.Z,pinMap:ot.Z,plane:Bn.Z,play:Fn.Z,plus:Nn.Z,priceTag:zt.Z,puzzle:ar.Z,question:kt.Z,quote:Un.Z,repeat:Wn.Z,restaurant:Ct.Z,rocket:wt.Z,rotate:jn.Z,scissors:Kn.Z,search:_n.Z,seed:zn.Z,server:kn.Z,shield:wn.Z,shirt:Vn.Z,shoppingCart:Gn.Z,slideshow:Hn.Z,stack:Yn.Z,star:Xn.Z,store:Tt.Z,strikeThrough:qn.Z,sun:Vt.Z,television:Qn.Z,thumbDown:Gt.Z,thumbUp:He.Z,train:Jn.Z,twitter:Ke.Z,typhoon:Ht.Z,underline:m.Z,user:ea.Z,volumeMute:Mt.Z,volumeUp:ke.Z,walk:tt.Z,wheelchair:ce.Z,write:rr.Z}},28814:(Z,F,a)=>{"use strict";a.d(F,{Z:()=>p});var n=a(27279);const p=(0,n.createContext)()},6356:(Z,F,a)=>{"use strict";a.d(F,{Z:()=>p});var n=a(27279);const p=(0,n.createContext)()},27523:(Z,F,a)=>{"use strict";a.d(F,{Z:()=>T});var n=a(27279),R=a(28814);const T=()=>(0,n.useContext)(R.Z)},47558:(Z,F,a)=>{"use strict";a.d(F,{Z:()=>T});var n=a(27279),R=a(6356);const T=()=>(0,n.useContext)(R.Z)},65950:(Z,F,a)=>{"use strict";a.r(F),a.d(F,{default:()=>ol});var n=a(27279),R=a(1296),p=a(61166),T=a(364),b=a(26781),A=a(51447),C=a(52185),Y=a(40810),V=a(57074),u=a(74081),E=a(72450);const D=(e,t,r)=>{if(!t)return;let i=Array.isArray(t)?t:[];if(!Array.isArray(t)&&typeof t=="object"&&(i=[t?.desktop,t?.tablet,t?.mobile]),i.length>0)return i.reduce((l,c,g)=>{if(c)switch(g){case 0:return`${l}${e}: ${r.spaces[c]};`;case 1:return`${l}${r.mediaQueries.tablet}{${e}: ${r.spaces[c]};}`;case 2:return`${l}${r.mediaQueries.mobile}{${e}: ${r.spaces[c]};}`;default:return l}return l},"");const s=r.spaces[t]||t;return`${e}: ${s};`};function z(e,t){return typeof e=="string"?!1:t in e}function w(e){return e&&typeof e=="object"&&!Array.isArray(e)}function _(e,t,r){return t&&z(e,t)?e[t]:r}const G={color:!0,cursor:!0,height:!0,width:!0},S=E.default.div.withConfig({shouldForwardProp:(e,t)=>!G[e]&&t(e)})`
  // Font
  font-size: ${({fontSize:e,theme:t})=>_(t.fontSizes,e,e)};

  // Colors
  background: ${({theme:e,background:t})=>_(e.colors,t,t)};
  color: ${({theme:e,color:t})=>_(e.colors,t,void 0)};

  // Spaces
  ${({theme:e,padding:t})=>D("padding",t,e)}
  ${({theme:e,paddingTop:t})=>D("padding-top",t,e)}
  ${({theme:e,paddingRight:t})=>D("padding-right",t,e)}
  ${({theme:e,paddingBottom:t})=>D("padding-bottom",t,e)}
  ${({theme:e,paddingLeft:t})=>D("padding-left",t,e)}
  ${({theme:e,marginLeft:t})=>D("margin-left",t,e)}
  ${({theme:e,marginRight:t})=>D("margin-right",t,e)}
  ${({theme:e,marginTop:t})=>D("margin-top",t,e)}
  ${({theme:e,marginBottom:t})=>D("margin-bottom",t,e)}

  // Responsive hiding
  ${({theme:e,hiddenS:t})=>t?`${e.mediaQueries.tablet} { display: none; }`:void 0}
  ${({theme:e,hiddenXS:t})=>t?`${e.mediaQueries.mobile} { display: none; }`:void 0}
  

  // Borders
  border-radius: ${({theme:e,hasRadius:t,borderRadius:r})=>t?e.borderRadius:r};
  border-style: ${({borderStyle:e})=>e};
  border-width: ${({borderWidth:e})=>e};
  border-color: ${({borderColor:e,theme:t})=>_(t.colors,e,void 0)};
  border: ${({theme:e,borderColor:t,borderStyle:r,borderWidth:i})=>{if(t&&!r&&typeof i>"u")return`1px solid ${e.colors[t]}`}};

  // Shadows
  box-shadow: ${({theme:e,shadow:t})=>_(e.shadows,t,void 0)};

  // Handlers
  pointer-events: ${({pointerEvents:e})=>e};
  &:hover {
    ${({_hover:e,theme:t})=>e?e(t):void 0}
  }

  // Display
  display: ${({display:e})=>e};

  // Position
  position: ${({position:e})=>e};
  left: ${({left:e,theme:t})=>_(t.spaces,e,e)};
  right: ${({right:e,theme:t})=>_(t.spaces,e,e)};
  top: ${({top:e,theme:t})=>_(t.spaces,e,e)};
  bottom: ${({bottom:e,theme:t})=>_(t.spaces,e,e)};
  z-index: ${({zIndex:e})=>e};
  overflow: ${({overflow:e})=>e};

  // Size
  width: ${({width:e,theme:t})=>_(t.spaces,e,e)};
  max-width: ${({maxWidth:e,theme:t})=>_(t.spaces,e,e)};
  min-width: ${({minWidth:e,theme:t})=>_(t.spaces,e,e)};
  height: ${({height:e,theme:t})=>_(t.spaces,e,e)};
  max-height: ${({maxHeight:e,theme:t})=>_(t.spaces,e,e)};
  min-height: ${({minHeight:e,theme:t})=>_(t.spaces,e,e)};

  // Animation
  transition: ${({transition:e})=>e};
  transform: ${({transform:e})=>e};
  animation: ${({animation:e})=>e};

  //Flexbox children props
  flex-shrink: ${({shrink:e})=>e};
  flex-grow: ${({grow:e})=>e};
  flex-basis: ${({basis:e})=>e};
  flex: ${({flex:e})=>e};

  // Text
  text-align: ${({textAlign:e})=>e};
  text-transform: ${({textTransform:e})=>e};
  line-height: ${({theme:e,lineHeight:t})=>_(e.lineHeights,t,t)};

  // Cursor
  cursor: ${({cursor:e})=>e};
`,X=(0,E.default)(S)`
  display: grid;
  grid-template-columns: repeat(${({gridCols:e})=>e}, 1fr);
  ${({theme:e,gap:t})=>D("gap",t,e)}
`,q=e=>{const{gap:t="0",gridCols:r=12,...i}=e;return(0,u.jsx)(X,{gap:t,gridCols:r,...i})},ee=`${232/16}rem`,ne=(0,E.default)(q)`
  width: ${ee};
  background: ${({theme:e})=>e.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:e})=>e.colors.neutral200};
  z-index: 1;
`,ie=({ariaLabel:e,...t})=>(0,u.jsx)(ne,{"aria-label":e,as:"nav",...t});var ue=a(89577);const Be={DOWN:"ArrowDown",UP:"ArrowUp",RIGHT:"ArrowRight",LEFT:"ArrowLeft",ESCAPE:"Escape",ENTER:"Enter",SPACE:" ",TAB:"Tab",END:"End",HOME:"Home",DELETE:"Delete",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",CLEAR:"Clear"},xe=n["useId".toString()]||(()=>{});let Fe=0;const Pe=e=>{const[t,r]=(0,n.useState)(xe());return(0,n.useLayoutEffect)(()=>{e||r(i=>i??String(Fe++))},[e]),e?.toString()??(t||"")},_e=e=>{const t=(0,n.useRef)();return(0,n.useEffect)(()=>{t.current=e}),t.current},Qe=(0,E.default)(S)`
  height: 1px;
  border: none;
  /* If contained in a Flex parent we want to prevent the Divider to shink */
  flex-shrink: 0;
  ${({unsetMargin:e})=>e?"margin: 0;":""}
`,Je=({unsetMargin:e=!0,...t})=>(0,u.jsx)(Qe,{...t,background:"neutral150",as:"hr",unsetMargin:e}),je=e=>(0,u.jsx)("form",{...e,role:"search"});var Ge=a(85305);function yt(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function et(...e){return t=>e.forEach(r=>yt(r,t))}function er(...e){return React.useCallback(et(...e),e)}const tr=e=>({theme:t,size:r})=>t.sizes[e][r],Dt=(e="&")=>({theme:t,hasError:r=!1})=>(0,E.css)`
    outline: none;
    box-shadow: 0;
    transition-property: border-color, box-shadow, fill;
    transition-duration: 0.2s;

    ${e}:focus-within {
      border: 1px solid ${r?t.colors.danger600:t.colors.primary600};
      box-shadow: ${r?t.colors.danger600:t.colors.primary600} 0px 0px 0px 2px;
    }
  `,Lt=({theme:e})=>(0,E.css)`
  position: relative;
  outline: none;

  &:after {
    transition-property: all;
    transition-duration: 0.2s;
    border-radius: 8px;
    content: '';
    position: absolute;
    top: -4px;
    bottom: -4px;
    left: -4px;
    right: -4px;
    border: 2px solid transparent;
  }

  &:focus-visible {
    outline: none;
    &:after {
      border-radius: 8px;
      content: '';
      position: absolute;
      top: -5px;
      bottom: -5px;
      left: -5px;
      right: -5px;
      border: 2px solid ${e.colors.primary600};
    }
  }
`,$t=(0,n.createContext)({id:"",required:!1}),St=()=>(0,n.useContext)($t),an={direction:!0},pe=(0,E.default)(S).withConfig({shouldForwardProp:(e,t)=>!an[e]&&t(e)})`
  align-items: ${({alignItems:e="center"})=>e};
  display: ${({display:e="flex",inline:t})=>t?"inline-flex":e};
  flex-direction: ${({direction:e="row"})=>e};
  flex-shrink: ${({shrink:e})=>e};
  flex-wrap: ${({wrap:e})=>e};
  ${({gap:e,theme:t})=>D("gap",e,t)};
  justify-content: ${({justifyContent:e})=>e};
`,It={S:6.5,M:10.5},rn=(0,n.forwardRef)(({endAction:e,startAction:t,disabled:r=!1,onChange:i,size:s="M",...d},l)=>{const{id:c,error:g,hint:f,name:y,required:h}=St();let L;g?L=`${c}-error`:f&&(L=`${c}-hint`);const O=Boolean(g),M=I=>{!r&&i&&i(I)};return(0,u.jsxs)(Et,{justifyContent:"space-between",hasError:O,disabled:r,children:[t?(0,u.jsx)(S,{paddingLeft:3,paddingRight:2,children:t}):null,(0,u.jsx)(on,{id:c,name:y,ref:l,"aria-describedby":L,"aria-invalid":O,"aria-disabled":r,disabled:r,"data-disabled":r?"":void 0,hasLeftAction:Boolean(t),hasRightAction:Boolean(e),onChange:M,"aria-required":h,$size:s,...d}),e?(0,u.jsx)(S,{paddingLeft:2,paddingRight:3,children:e}):null]})}),on=E.default.input`
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius};
  padding-bottom: ${({$size:e})=>`${It[e]/16}rem`};
  padding-left: ${({theme:e,hasLeftAction:t})=>t?0:e.spaces[4]};
  padding-right: ${({theme:e,hasRightAction:t})=>t?0:e.spaces[4]};
  padding-top: ${({$size:e})=>`${It[e]/16}rem`};
  cursor: ${e=>e["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:e})=>e.colors.neutral800};
  font-weight: 400;
  font-size: ${e=>e.theme.fontSizes[2]};
  display: block;
  width: 100%;
  background: inherit;

  ::placeholder {
    color: ${({theme:e})=>e.colors.neutral500};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }
`,Et=(0,E.default)(pe)`
  border: 1px solid ${({theme:e,hasError:t})=>t?e.colors.danger600:e.colors.neutral200};
  border-radius: ${({theme:e})=>e.borderRadius};
  background: ${({theme:e})=>e.colors.neutral0};
  ${Dt()}

  ${({theme:e,disabled:t})=>t?(0,E.css)`
          color: ${e.colors.neutral600};
          background: ${e.colors.neutral150};
        `:void 0}
`,lt=E.default.div`
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
`,sn=(0,E.default)(pe)`
  font-size: 1.6rem;
  padding: 0;
`,ln=(0,n.forwardRef)(({label:e,children:t,...r},i)=>(0,u.jsxs)(sn,{justifyContent:"unset",background:"transparent",borderStyle:"none",type:"button",...r,as:"button",ref:i,children:[(0,u.jsx)(lt,{as:"span",children:e}),(0,n.cloneElement)(t,{"aria-hidden":!0,focusable:!1})]})),dn=(0,n.forwardRef)(({children:e,name:t,error:r,hint:i,id:s,required:d=!1,...l},c)=>{const g=Pe(s),f=(0,n.useMemo)(()=>({name:t,id:g,error:r,hint:i,required:d}),[r,g,i,t,d]);return(0,u.jsx)(S,{ref:c,...l,children:(0,u.jsx)($t.Provider,{value:f,children:e})})}),cn="[@strapi/design-system]:",un=e=>{const t=e;let r=!1;if(typeof t!="function")throw new TypeError(`${cn} once requires a function parameter`);return(...i)=>{r||(t(...i),r=!0)}},Bt="alpha",Ft="beta",Nt="delta",Ut="epsilon",bt="omega",Wt="pi",jt="sigma",nr=[Bt,Ft,Nt,Ut,bt,Wt,jt],mn=({ellipsis:e=!1})=>e&&`
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  `,pn=({variant:e=bt,theme:t})=>{switch(e){case Bt:return`
        font-weight: ${t.fontWeights.bold};
        font-size: ${t.fontSizes[5]};
        line-height: ${t.lineHeights[2]};
      `;case Ft:return`
        font-weight: ${t.fontWeights.bold};
        font-size: ${t.fontSizes[4]};
        line-height: ${t.lineHeights[1]};
      `;case Nt:return`
        font-weight: ${t.fontWeights.semiBold};
        font-size: ${t.fontSizes[3]};
        line-height: ${t.lineHeights[2]};
      `;case Ut:return`
        font-size: ${t.fontSizes[3]};
        line-height: ${t.lineHeights[6]};
      `;case bt:return`
        font-size: ${t.fontSizes[2]};
        line-height: ${t.lineHeights[4]};
      `;case Wt:return`
        font-size: ${t.fontSizes[1]};
        line-height: ${t.lineHeights[3]};
      `;case jt:return`
        font-weight: ${t.fontWeights.bold};
        font-size: ${t.fontSizes[0]};
        line-height: ${t.lineHeights[5]};
        text-transform: uppercase;
      `;default:return`
        font-size: ${t.fontSizes[2]};
      `}},gn={fontSize:!0,fontWeight:!0},oe=E.default.span.withConfig({shouldForwardProp:(e,t)=>!gn[e]&&t(e)})`
  ${pn}
  ${mn}

  // These properties need to come after {variantStyle}, because they might
  // overwrite a variant attribute
  font-weight: ${({theme:e,fontWeight:t})=>_(e.fontWeights,t,void 0)};
  font-size: ${({theme:e,fontSize:t})=>_(e.fontSizes,t,void 0)};
  line-height: ${({theme:e,lineHeight:t})=>_(e.lineHeights,t,t)};
  color: ${({theme:e,textColor:t})=>e.colors[t||"neutral800"]};
  text-align: ${({textAlign:e})=>e};
  text-decoration: ${({textDecoration:e})=>e};
  text-transform: ${({textTransform:e})=>e};
`,fn=un(console.warn),hn=(0,n.forwardRef)(({children:e,action:t,required:r,...i},s)=>{const{id:d,required:l}=St(),c=l||r;return r!==void 0&&fn('Deprecation warning: Usage of "required" prop in FieldLabel component is deprecated. This is discouraged and will be removed in the next major release. Please use the Field component to share the required prop.'),(0,u.jsxs)(yn,{ref:s,variant:"pi",textColor:"neutral800",htmlFor:d,fontWeight:"bold",as:"label",...i,children:[e,c&&(0,u.jsx)(En,{textColor:"danger600",children:"*"}),t&&(0,u.jsx)(bn,{marginLeft:1,children:t})]})}),yn=(0,E.default)(oe)`
  display: flex;
  align-items: center;
`,En=(0,E.default)(oe)`
  line-height: 0;
`,bn=(0,E.default)(pe)`
  line-height: 0;

  svg path {
    fill: ${({theme:e})=>e.colors.neutral500};
  }
`,vn=(0,E.default)(Ge.Z)`
  font-size: 0.5rem;
  path {
    fill: ${({theme:e})=>e.colors.neutral400};
  }
`,Kt=(0,E.default)(ue.Z)`
  font-size: 0.8rem;
  path {
    fill: ${({theme:e})=>e.colors.neutral800};
  }
`,Cn=E.default.div`
  border-radius: ${({theme:e})=>e.borderRadius};
  box-shadow: ${({theme:e})=>e.shadows.filterShadow};

  &:focus-within {
    ${Kt} {
      path {
        fill: ${({theme:e})=>e.colors.primary600};
      }
    }
  }

  ${Et} {
    border: 1px solid transparent;
  }

  ${Dt(Et)}
`,Tn=(0,n.forwardRef)(({name:e,size:t="M",children:r,value:i="",onClear:s,clearLabel:d,...l},c)=>{const g=(0,n.useRef)(null),f=i.length>0,y=L=>{s(L),g.current.focus()},h=et(c,g);return(0,u.jsx)(Cn,{children:(0,u.jsxs)(dn,{name:e,children:[(0,u.jsx)(lt,{children:(0,u.jsx)(hn,{children:r})}),(0,u.jsx)(rn,{ref:h,value:i,startAction:(0,u.jsx)(Kt,{"aria-hidden":!0}),size:t,endAction:f?(0,u.jsx)(ln,{label:d,onClick:y,children:(0,u.jsx)(vn,{})}):void 0,...l})]})})}),Mn=e=>{const[t,r]=(0,n.useState)(!1),i=(0,n.useRef)(null),s=()=>{typeof i.current=="number"&&(clearTimeout(i.current),i.current=null)};return(0,n.useEffect)(()=>()=>{s()},[]),{visible:t,onFocus:()=>{r(!0)},onBlur:()=>{r(!1)},onMouseEnter:()=>{i.current=setTimeout(()=>{r(!0)},e)},onMouseLeave:()=>{s(),r(!1)}}},ze=8,xn=(e,t)=>{const r=(e.width-t.width)/2,i=t.left-r,s=t.top+t.height+ze+window.pageYOffset;return{left:i,top:s}},Rn=(e,t)=>{const r=(e.height-t.height)/2,i=t.left+t.width+ze,s=t.top-r+window.pageYOffset;return{left:i,top:s}},An=(e,t)=>{const r=(e.height-t.height)/2,i=t.left-e.width-ze,s=t.top-r+window.pageYOffset;return{left:i,top:s}},On=(e,t)=>{const r=(e.width-t.width)/2;let i=t.left-r,s=t.top-e.height-ze+window.pageYOffset;const d=window.innerWidth-t.right;return t.left+e.width-d>window.innerWidth?(i=t.left-e.width-ze,s=t.top+window.scrollY-t.height/2):i<0?(i=t.width+t.left+ze,s=t.top+window.scrollY-e.height/2+ze):s<0&&i>0&&(s=t.top+t.height+ze),{left:i,top:s}},Zn=(e,t,r)=>{const i=e.getBoundingClientRect(),s=t.getBoundingClientRect();return r==="bottom"?xn(i,s):r==="right"?Rn(i,s):r==="left"?An(i,s):On(i,s)},Pn=(e,t)=>{const r=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useLayoutEffect)(()=>{if(e){const s=r.current,d=i.current;if(s&&d){const l=Zn(s,d,t);s.style.left=`${l.left}px`,s.style.top=`${l.top}px`}}},[t,e]),{tooltipWrapperRef:r,toggleSourceRef:i}};var Dn=a(69530);const _t=n.forwardRef(({container:e=globalThis?.document?.body,...t},r)=>e?(0,Dn.createPortal)((0,u.jsx)(S,{ref:r,...t}),e):null);_t.displayName="Portal";const Ln=(0,E.default)(S)`
  /* z-index exist because of its position inside Modals */
  z-index: 4;
  display: ${({visible:e})=>e?"revert":"none"};
`,$n=({children:e,label:t,description:r,delay:i=500,position:s="top",id:d,...l})=>{const c=Pe(d),g=Pe(),{visible:f,...y}=Mn(i),{tooltipWrapperRef:h,toggleSourceRef:L}=Pn(f,s),O=n.cloneElement(e,{tabIndex:0,"aria-labelledby":t?c:void 0,"aria-describedby":r?c:void 0,...y});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(_t,{children:(0,u.jsxs)(Ln,{id:c,background:"neutral900",hasRadius:!0,padding:2,role:"tooltip",ref:h,visible:f,position:"absolute",...l,children:[f&&(0,u.jsx)(lt,{id:g,children:r}),(0,u.jsx)(oe,{as:"p",variant:"pi",fontWeight:"bold",textColor:"neutral0",children:t||r})]})}),(0,u.jsx)("span",{ref:L,children:O})]})},Sn=(0,E.default)(pe)`
  > svg {
    height: ${({theme:e})=>e.spaces[3]};
    width: ${({theme:e})=>e.spaces[3]};

    > g,
    path {
      fill: ${({theme:e})=>e.colors.neutral0};
    }
  }

  &[aria-disabled='true'] {
    pointer-events: none;
  }

  ${Lt}
`,vt=n.forwardRef(({disabled:e,children:t,background:r="neutral0",...i},s)=>(0,u.jsx)(Sn,{ref:s,"aria-disabled":e,as:"button",type:"button",disabled:e,padding:2,hasRadius:!0,background:r,borderColor:"neutral200",cursor:"pointer",...i,children:t}));vt.displayName="BaseButton";const In="tertiary",ot="secondary",Bn=["S","M","L"],Fn=[In,ot],Nn=n.forwardRef(({label:e,background:t,borderWidth:r,noBorder:i=!1,children:s,icon:d,disabled:l=!1,onClick:c,size:g=Bn[0],"aria-label":f,variant:y=Fn[0],...h},L)=>{const O=I=>{!l&&c&&c(I)},M=(0,u.jsxs)(zt,{"aria-disabled":l,background:l?"neutral150":t,borderWidth:i?0:r,justifyContent:"center",...h,ref:L,size:g,onClick:O,variant:y,children:[(0,u.jsx)(lt,{as:"span",children:e??f}),n.cloneElement(d||s,{"aria-hidden":!0,focusable:!1})]});return e?(0,u.jsx)($n,{label:e,children:M}):M}),zt=(0,E.default)(vt)`
  background-color: ${({theme:e,variant:t})=>{if(t===ot)return e.colors.primary100}};
  border-color: ${({theme:e,variant:t})=>t===ot?e.colors.primary200:e.colors.neutral200};
  height: ${({theme:e,size:t})=>e.sizes.button[t]};
  width: ${({theme:e,size:t})=>e.sizes.button[t]};

  svg {
    g,
    path {
      fill: ${({theme:e,variant:t})=>t===ot?e.colors.primary500:e.colors.neutral500};
    }
  }

  :hover,
  :focus {
    svg {
      g,
      path {
        fill: ${({theme:e,variant:t})=>t===ot?e.colors.primary600:e.colors.neutral600};
      }
    }
  }

  &[aria-disabled='true'] {
    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral600};
      }
    }
  }
`,ar=(0,E.default)(pe)`
  & span:first-child button {
    border-left: 1px solid ${({theme:e})=>e.colors.neutral200};
    border-radius: ${({theme:e})=>`${e.borderRadius} 0 0 ${e.borderRadius}`};
  }

  & span:last-child button {
    border-radius: ${({theme:e})=>`0 ${e.borderRadius} ${e.borderRadius} 0`};
  }

  & ${zt} {
    border-radius: 0;
    border-left: none;

    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral700};
      }
    }

    &:hover {
      background-color: ${({theme:e})=>e.colors.neutral100};

      svg {
        path {
          fill: ${({theme:e})=>e.colors.neutral800};
        }
      }
    }

    &:active {
      background-color: ${({theme:e})=>e.colors.neutral150};
      svg {
        path {
          fill: ${({theme:e})=>e.colors.neutral900};
        }
      }
    }

    &[aria-disabled='true'] {
      svg {
        path {
          fill: ${({theme:e})=>e.colors.neutral600};
        }
      }
    }
  }
`,kt=(0,E.default)(Je)`
  width: ${24/16}rem;
  background-color: ${({theme:e})=>e.colors.neutral200};
`,Un=({as:e="h2",label:t,searchLabel:r="",searchable:i=!1,onChange:s=()=>{},value:d="",onClear:l=()=>{},onSubmit:c=()=>{},id:g})=>{const[f,y]=(0,n.useState)(!1),h=_e(f),L=Pe(g),O=(0,n.useRef)(void 0),M=(0,n.useRef)(void 0);(0,n.useEffect)(()=>{f&&O.current&&O.current.focus(),h&&!f&&M.current&&M.current.focus()},[f,h]);const I=()=>{y(B=>!B)},k=B=>{l(B),O.current.focus()},$=B=>{B.relatedTarget?.id!==L&&y(!1)},N=B=>{B.key===Be.ESCAPE&&y(!1)};return f?(0,u.jsxs)(S,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[(0,u.jsx)(je,{children:(0,u.jsx)(Tn,{name:"searchbar",value:d,onChange:s,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:N,ref:O,onBlur:$,onClear:k,onSubmit:c,clearLabel:"Clear",size:"S",children:r})}),(0,u.jsx)(S,{paddingLeft:2,paddingTop:4,children:(0,u.jsx)(kt,{})})]}):(0,u.jsxs)(S,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[(0,u.jsxs)(pe,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,u.jsx)(oe,{variant:"beta",as:e,children:t}),i&&(0,u.jsx)(Nn,{ref:M,onClick:I,label:r,icon:(0,u.jsx)(ue.Z,{})})]}),(0,u.jsx)(S,{paddingTop:4,children:(0,u.jsx)(kt,{})})]})},Wn=({children:e,spacing:t=2,horizontal:r=!1,...i})=>(0,u.jsx)(S,{paddingTop:2,paddingBottom:4,children:(0,u.jsx)(pe,{as:"ol",gap:t,direction:r?"row":"column",alignItems:r?"center":"stretch",...i,children:n.Children.map(e,(s,d)=>(0,u.jsx)("li",{children:s},d))})});var Ct=a(3494);const wt=(0,E.default)(pe)`
  border: none;
  padding: 0;
  background: transparent;
`,jn=E.default.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,Kn=({collapsable:e=!1,label:t,onClick:r=()=>{},ariaExpanded:i,ariaControls:s})=>e?(0,u.jsxs)(wt,{as:"button",onClick:r,"aria-expanded":i,"aria-controls":s,textAlign:"left",children:[(0,u.jsx)(S,{paddingRight:1,children:(0,u.jsx)(oe,{variant:"sigma",textColor:"neutral600",children:t})}),e&&(0,u.jsx)(jn,{rotated:i,children:(0,u.jsx)(Ct.Z,{"aria-hidden":!0})})]}):(0,u.jsx)(wt,{children:(0,u.jsx)(S,{paddingRight:1,children:(0,u.jsx)(oe,{variant:"sigma",textColor:"neutral600",children:t})})}),_n=(0,E.default)(pe)`
  border-radius: ${({theme:e,size:t})=>t==="S"?"2px":e.borderRadius};
  height: ${({size:e,theme:t})=>t.sizes.badge[e]};
`,zn=({active:e=!1,size:t="M",textColor:r="neutral600",backgroundColor:i="neutral150",children:s,minWidth:d=5,...l})=>{const c=t==="S"?1:2;return(0,u.jsx)(_n,{inline:!0,alignItem:"center",justifyContent:"center",minWidth:d,paddingLeft:c,paddingRight:c,background:e?"primary200":i,size:t,...l,children:(0,u.jsx)(oe,{variant:"sigma",textColor:e?"primary600":r,children:s})})},kn=(0,E.default)(S)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral500};
    }
  }
`,wn=({collapsable:e=!1,label:t,badgeLabel:r,children:i,id:s})=>{const[d,l]=(0,n.useState)(!0),c=Pe(s),g=()=>{l(f=>!f)};return(0,u.jsxs)(pe,{direction:"column",alignItems:"stretch",gap:1,children:[(0,u.jsx)(kn,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,u.jsxs)(S,{position:"relative",paddingRight:r?6:0,children:[(0,u.jsx)(Kn,{onClick:g,ariaExpanded:d,ariaControls:c,collapsable:e,label:t}),r&&(0,u.jsx)(zn,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",children:r})]})}),(!e||d)&&(0,u.jsx)("ol",{id:c,children:n.Children.map(i,(f,y)=>(0,u.jsx)("li",{children:f},y))})]})},Vn=(0,E.default)(S)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,Gn=E.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Hn=E.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,Yn=({label:e,children:t,id:r})=>{const[i,s]=(0,n.useState)(!0),d=Pe(r),l=()=>{s(c=>!c)};return(0,u.jsxs)(S,{children:[(0,u.jsx)(Vn,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,u.jsx)(pe,{justifyContent:"space-between",children:(0,u.jsxs)(Gn,{onClick:l,"aria-expanded":i,"aria-controls":d,children:[(0,u.jsx)(Hn,{rotated:i,children:(0,u.jsx)(Ct.Z,{"aria-hidden":!0})}),(0,u.jsx)(S,{paddingLeft:2,children:(0,u.jsx)(oe,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),i&&(0,u.jsx)("ul",{id:d,children:n.Children.map(t,(c,g)=>(0,u.jsx)("li",{children:c},g))})]})};var Xn=a(1939);const Tt=n.forwardRef(({href:e,rel:t="noreferrer noopener",target:r="_self",disabled:i=!1,isExternal:s=!1,...d},l)=>(0,u.jsx)(S,{as:"a",ref:l,target:s?"_blank":r,rel:s?t:void 0,href:i?"#":e,"aria-disabled":i,cursor:"pointer",...d}));Tt.displayName="BaseLink";const qn=(0,E.default)(S)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:e})=>e.colors.neutral800};
  svg > * {
    fill: ${({theme:e})=>e.colors.neutral600};
  }

  &.active {
    ${({theme:e})=>`
      background-color: ${e.colors.primary100};
      border-right: 2px solid ${e.colors.primary600};
      svg > * {
        fill: ${e.colors.primary700};
      }
      ${oe} {
        color: ${e.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,Vt=(0,E.default)(Xn.Z)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:e,$active:t})=>t?e.colors.primary600:e.colors.neutral600};
  }
`,Qn=E.default.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,Gt=n.forwardRef(({children:e,icon:t=null,withBullet:r=!1,as:i=Tt,isSubSectionChild:s=!1,...d},l)=>(0,u.jsxs)(qn,{as:i,icon:t,background:"neutral100",paddingLeft:s?9:7,paddingBottom:2,paddingTop:2,ref:l,...d,children:[(0,u.jsxs)(pe,{children:[t?(0,u.jsx)(Qn,{children:t}):(0,u.jsx)(Vt,{}),(0,u.jsx)(S,{paddingLeft:2,children:(0,u.jsx)(oe,{as:"span",children:e})})]}),r&&(0,u.jsx)(S,{as:pe,paddingRight:4,children:(0,u.jsx)(Vt,{$active:!0})})]}));var He=a(25659),Jn=a(51943),Ke=a.n(Jn),Ht=a(47533),m=a(90635),ea=a(6078),Mt=a.n(ea),ke=a(27523),tt=a(47558),ce=a(72966);const ta=()=>{const{components:e,componentsGroupedByCategory:t,contentTypes:r,isInDevelopmentMode:i,sortedContentTypesList:s,modifiedData:d,initialData:l}=(0,ke.Z)(),c=(0,p.useNotification)(),{trackUsage:g}=(0,p.useTracking)(),[f,y]=(0,n.useState)(""),{onOpenModalCreateSchema:h,onOpenModalEditCategory:L}=(0,tt.Z)(),{locale:O}=(0,b.Z)(),{startsWith:M}=(0,p.useFilter)(O,{sensitivity:"base"}),I=(0,p.useCollator)(O,{sensitivity:"base"}),k=!Object.keys(r).some(Q=>r[Q].isTemporary===!0)&&!Object.keys(e).some(Q=>e[Q].isTemporary===!0)&&Mt()(d,l),$=()=>{k?(g("willCreateContentType"),h({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):H()},N=()=>{k?(g("willCreateSingleType"),h({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):H()},B=()=>{k?(g("willCreateComponent"),h({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):H()},H=()=>{c({type:"info",message:{id:(0,m.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},le=Object.entries(t).map(([Q,Ze])=>({name:Q,title:Q,isEditable:i,onClickEdit(de,$e){de.stopPropagation(),k?L($e.name):H()},links:Ze.map(de=>({name:de.uid,to:`/plugins/${ce.Z}/component-categories/${Q}/${de.uid}`,title:de.schema.displayName})).sort((de,$e)=>I.compare(de.title,$e.title))})).sort((Q,Ze)=>I.compare(Q.title,Ze.title)),Te=s.filter(Q=>Q.visible);return{menu:[{name:"models",title:{id:`${(0,m.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,m.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:$},links:Te.filter(Q=>Q.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,m.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,m.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:N},links:Te.filter(Q=>Q.kind==="singleType")},{name:"components",title:{id:`${(0,m.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,m.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:B},links:le}].map(Q=>Q.links.some(de=>Array.isArray(de.links))?{...Q,links:Q.links.map(de=>{const $e=de.links.filter(ye=>M(ye.title,f));return $e.length===0?null:{...de,links:$e.sort((ye,he)=>I.compare(ye.title,he.title))}}).filter(Boolean)}:{...Q,links:Q.links.filter(de=>M(de.title,f)).sort((de,$e)=>I.compare(de.title,$e.title))}),searchValue:f,onSearchChange:y}},yo=()=>{const{menu:e,searchValue:t,onSearchChange:r}=ta(),{formatMessage:i}=(0,b.Z)();return n.createElement(ie,{ariaLabel:i({id:`${(0,m.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},n.createElement(Un,{searchable:!0,value:t,onClear:()=>r(""),onChange:s=>r(s.target.value),label:i({id:`${(0,m.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),n.createElement(Wn,null,e.map(s=>n.createElement(n.Fragment,{key:s.name},n.createElement(wn,{label:i({id:s.title.id,defaultMessage:s.title.defaultMessage}),collapsable:!0,badgeLabel:s.links.length.toString()},s.links.map(d=>d.links?n.createElement(Yn,{key:d.name,label:Ke()(d.title)},d.links.map(l=>n.createElement(Gt,{as:Ht.NavLink,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},Ke()(i({id:l.name,defaultMessage:l.title}))))):n.createElement(Gt,{as:Ht.NavLink,to:d.to,active:d.active,key:d.name},Ke()(i({id:d.name,defaultMessage:d.title}))))),s.customLink&&n.createElement(C.x,{paddingLeft:7},n.createElement(Y.A,{onClick:s.customLink.onClick,startIcon:n.createElement(V.J,{as:He.Z,width:(0,p.pxToRem)(8),height:(0,p.pxToRem)(8)}),marginTop:2},i({id:s.customLink.id,defaultMessage:s.customLink.defaultMessage})))))))};var Eo=a(98934),K=a.n(Eo),bo=a(63799),vo=a.n(bo),Co=a(43433),or=a.n(Co),To=a(84921),Mo=a.n(To),xo=a(70627),o=a.n(xo),st=a(49402),Ro=a(91787),Ao=a(28814),dt=a(12670),Oo=a(81565),sr=a(23851),ir=a(12826),ae=a(85898),ct=a(87161),na=a(67393),ut=a(33832),Zo=a(3785),ge=a(51413),Po=a(10131),Do=a.n(Po),Lo=a(79146),lr=a.n(Lo);const dr=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),aa=(e,t)=>e.find(({name:r})=>r===t);var cr=a(14291);const $o=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],ra=({intlLabel:e,name:t,onChange:r,value:i})=>{const{formatMessage:s}=(0,b.Z)(),d=i===null||i.length===0?s({id:"global.none",defaultMessage:"None"}):[...i].sort().map(c=>Ke()(c)).join(", "),l=e.id?s({id:e.id,defaultMessage:e.defaultMessage}):t;return n.createElement(cr.Q,{id:"select1",label:l,customizeContent:()=>d,onChange:c=>{c.length>0?r({target:{name:t,value:c,type:"allowed-types-select"}}):r({target:{name:t,value:null,type:"allowed-types-select"}})},options:$o,value:i||[]})};ra.defaultProps={value:null},ra.propTypes={intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,name:o().string.isRequired,onChange:o().func.isRequired,value:o().oneOfType([o().object,o().array])};const So=ra;var me=a(35557),oa=a(42615),sa=a(90529),Yt=a(49899),Xt=a(71243);const ur=(0,E.default)(C.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,ia=({type:e})=>{const{formatMessage:t}=(0,b.Z)(),{onClickSelectField:r}=(0,tt.Z)(),i=()=>{r({attributeType:e,step:e==="component"?"1":null})};return n.createElement(ur,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},n.createElement(ae.k,null,n.createElement(Xt.Z,{type:e}),n.createElement(C.x,{paddingLeft:4},n.createElement(ae.k,null,n.createElement(me.Z,{fontWeight:"bold"},t({id:(0,m.Z)(`attribute.${e}`),defaultMessage:e}))),n.createElement(ae.k,null,n.createElement(me.Z,{variant:"pi",textColor:"neutral600"},t({id:(0,m.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};ia.defaultProps={type:"text"},ia.propTypes={type:o().string};const Io=ia,mr=e=>{const t=e%2===1;return{paddingLeft:t?2:0,paddingRight:t?0:2}},pr=({attributes:e})=>n.createElement(oa.k,{tagName:"button"},n.createElement(ae.k,{direction:"column",alignItems:"stretch",gap:8},e.map((t,r)=>n.createElement(sa.r,{key:r,gap:0},t.map((i,s)=>{const{paddingLeft:d,paddingRight:l}=mr(s);return n.createElement(Yt.P,{key:i,col:6,style:{height:"100%"}},n.createElement(C.x,{paddingLeft:d,paddingRight:l,paddingBottom:1,style:{height:"100%"}},n.createElement(Io,{type:i})))})))));pr.propTypes={attributes:o().array.isRequired};const Bo=pr;var Fo=a(33774);const gr=({customFieldUid:e,customField:t})=>{const{type:r,intlLabel:i,intlDescription:s}=t,{formatMessage:d}=(0,b.Z)(),{onClickSelectCustomField:l}=(0,tt.Z)(),c=()=>{l({attributeType:r,customFieldUid:e})};return n.createElement(ur,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c},n.createElement(ae.k,null,n.createElement(Xt.Z,{type:r,customField:e}),n.createElement(C.x,{paddingLeft:4},n.createElement(ae.k,null,n.createElement(me.Z,{fontWeight:"bold"},d(i))),n.createElement(ae.k,null,n.createElement(me.Z,{variant:"pi",textColor:"neutral600"},d(s))))))};gr.propTypes={customFieldUid:o().string.isRequired,customField:o().shape({type:o().string.isRequired,icon:o().func,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}).isRequired,intlDescription:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}).isRequired}).isRequired};const No=gr;var Uo=a(96448),Wo=a(64417),jo=a(29206),Ko=a.n(jo);const _o=(0,E.default)(C.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,zo=()=>n.createElement(ae.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,t)=>n.createElement(_o,{key:`empty-card-${t}`,height:"138px",width:"375px",hasRadius:!0}))),ko=()=>{const{formatMessage:e}=(0,b.Z)();return n.createElement(C.x,{position:"relative"},n.createElement(zo,null),n.createElement(C.x,{position:"absolute",top:6,width:"100%"},n.createElement(ae.k,{alignItems:"center",justifyContent:"center",direction:"column"},n.createElement(V.J,{as:Wo.Z,color:"",width:"160px",height:"88px"}),n.createElement(C.x,{paddingTop:6,paddingBottom:4},n.createElement(C.x,{textAlign:"center"},n.createElement(me.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,m.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),n.createElement(C.x,{paddingTop:4},n.createElement(me.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,m.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),n.createElement(Uo.Q,{to:`/marketplace?${Ko().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:n.createElement(He.Z,null)},e({id:(0,m.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},wo=()=>{const{formatMessage:e}=(0,b.Z)(),t=(0,p.useCustomFields)(),r=Object.entries(t.getAll());if(!r.length)return n.createElement(ko,null);const i=r.sort((s,d)=>s[1].name>d[1].name?1:-1);return n.createElement(oa.k,{tagName:"button"},n.createElement(ae.k,{direction:"column",alignItems:"stretch",gap:3},n.createElement(sa.r,{gap:0},i.map(([s,d],l)=>{const{paddingLeft:c,paddingRight:g}=mr(l);return n.createElement(Yt.P,{key:s,col:6,style:{height:"100%"}},n.createElement(C.x,{paddingLeft:c,paddingRight:g,paddingBottom:1,style:{height:"100%"}},n.createElement(No,{key:s,customFieldUid:s,customField:d})))})),n.createElement(Fo.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,m.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},fr=({attributes:e,forTarget:t,kind:r})=>{const{formatMessage:i}=(0,b.Z)(),s=(0,m.Z)("modalForm.tabs.default"),d=(0,m.Z)("modalForm.tabs.custom"),l=t.includes("component")?"component":r,c=(0,m.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return n.createElement(sr.f,{padding:6},n.createElement(ir.v,{label:i({id:(0,m.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},n.createElement(ae.k,{justifyContent:"space-between"},n.createElement(me.Z,{variant:"beta",as:"h2"},i({id:c,defaultMessage:"Select a field"})),n.createElement(ct.m,null,n.createElement(ct.O,null,i({id:s,defaultMessage:"Default"})),n.createElement(ct.O,null,i({id:d,defaultMessage:"Custom"})))),n.createElement(C.x,{paddingBottom:6},n.createElement(na.i,null)),n.createElement(ut.n,null,n.createElement(ut.x,null,n.createElement(Bo,{attributes:e})),n.createElement(ut.x,null,n.createElement(wo,null)))))};fr.propTypes={attributes:o().array.isRequired,forTarget:o().string.isRequired,kind:o().string.isRequired};const Vo=fr;var qt=a(52870),Qt=a(33699);const la=({intlLabel:e,name:t,options:r,onChange:i,value:s})=>{const{formatMessage:d}=(0,b.Z)(),l=e.id?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):t,c=g=>{let f="";g==="true"&&(f=!0),g==="false"&&(f=!1),i({target:{name:t,value:f,type:"select-default-boolean"}})};return n.createElement(qt.P,{label:l,id:t,name:t,onChange:c,value:(s===null?"":s).toString()},r.map(({metadatas:{intlLabel:g,disabled:f,hidden:y},key:h,value:L})=>n.createElement(Qt.W,{key:h,value:L,disabled:f,hidden:y},g.defaultMessage)))};la.defaultProps={value:null},la.propTypes={intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,name:o().string.isRequired,onChange:o().func.isRequired,options:o().arrayOf(o().shape({metadatas:o().shape({intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}).isRequired,disabled:o().bool,hidden:o().bool}).isRequired,key:o().oneOfType([o().string,o().number]).isRequired,value:o().oneOfType([o().string,o().number]).isRequired}).isRequired).isRequired,value:o().any};const Go=la;var hr=a(97069);const Ho=(0,E.default)(ae.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,hr.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${me.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,da=({intlLabel:e,name:t,onChange:r,radios:i,value:s})=>{const{formatMessage:d}=(0,b.Z)();return n.createElement(ae.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(me.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,as:"label"},d(e)),n.createElement(Ho,{gap:4,alignItems:"stretch"},i.map(l=>n.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},n.createElement("input",{id:l.value.toString(),name:t,className:"option-input",checked:l.value===s,value:l.value,key:l.value,onChange:r,type:"radio"}),n.createElement(C.x,{className:"option",padding:4},n.createElement(ae.k,null,n.createElement(C.x,{paddingRight:4},n.createElement("span",{className:"checkmark"})),n.createElement(ae.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(me.Z,{fontWeight:"bold"},d(l.title)),n.createElement(me.Z,{variant:"pi",textColor:"neutral600"},d(l.description)))))))))};da.defaultProps={radios:[]},da.propTypes={intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,name:o().string.isRequired,onChange:o().func.isRequired,radios:o().arrayOf(o().shape({title:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}),description:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}),value:o().any.isRequired})),value:o().oneOfType([o().string,o().bool]).isRequired};const ca=da,yr=({onChange:e,name:t,...r})=>{const i=s=>{const d=s.target.value!=="false";e({target:{name:t,value:d,type:"boolean-radio-group"}})};return n.createElement(ca,{...r,name:t,onChange:i})};yr.propTypes={name:o().string.isRequired,onChange:o().func.isRequired};const Yo=yr;var Er=a(31078),ua=a(19098),Xo=a(58995);const ma=({error:e,intlLabel:t,modifiedData:r,name:i,onChange:s,value:d})=>{const{formatMessage:l}=(0,b.Z)(),[c,g]=(0,n.useState)(!!d||d===0),f=t.id?l({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):i,y=r.type==="biginteger"?"text":"number",h=!r.type,L=e?l({id:e,defaultMessage:e}):"";return n.createElement(ae.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(Er.X,{id:i,name:i,onValueChange:O=>{s({target:{name:i,value:O?y==="text"?"0":0:null}}),g(k=>!k)},value:c},f),c&&n.createElement(C.x,{paddingLeft:6,style:{maxWidth:"200px"}},y==="text"?n.createElement(ua.o,{"aria-label":f,disabled:h,error:L,id:i,name:i,onChange:s,value:d===null?"":d}):n.createElement(Xo.Y,{"aria-label":f,disabled:h,error:L,id:i,name:i,onValueChange:O=>{s({target:{name:i,value:O,type:y}})},value:d||0})))};ma.defaultProps={error:null,value:null},ma.propTypes={error:o().string,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,modifiedData:o().object.isRequired,name:o().string.isRequired,onChange:o().func.isRequired,value:o().oneOfType([o().string,o().object,o().bool,o().number])};const qo=ma,br=({onChange:e,...t})=>{const r=(0,p.useNotification)(),i=s=>{r({type:"info",message:{id:(0,m.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(s)};return n.createElement(ca,{...t,onChange:i})};br.propTypes={onChange:o().func.isRequired};const Qo=br,pa=({description:e,disabled:t,intlLabel:r,isCreating:i,name:s,onChange:d,value:l})=>{const{formatMessage:c}=(0,b.Z)(),[g,f]=(0,n.useState)(!1),y=r.id?c({id:r.id,defaultMessage:r.defaultMessage},{...r.values}):s,h=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",L=()=>f(I=>!I),O=()=>{d({target:{name:s,value:!1}}),L()},M=({target:{checked:I}})=>{if(!I&&!i){L();return}d({target:{name:s,value:I}})};return n.createElement(n.Fragment,null,n.createElement(Er.X,{checked:l,disabled:t,hint:h,name:s,onChange:M},y),n.createElement(p.ConfirmDialog,{isOpen:g,onToggleDialog:L,onConfirm:O,bodyText:{id:(0,m.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,m.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};pa.defaultProps={description:null,disabled:!1,value:!1},pa.propTypes={description:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}),disabled:o().bool,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,isCreating:o().bool.isRequired,name:o().string.isRequired,onChange:o().func.isRequired,value:o().bool};const Jo=pa,ga=({categoryName:e,deleteCategory:t,deleteComponent:r,deleteContentType:i,isAttributeModal:s,isCustomFieldModal:d,isComponentAttribute:l,isComponentToDzModal:c,isContentTypeModal:g,isCreatingComponent:f,isCreatingComponentAttribute:y,isCreatingComponentInDz:h,isCreatingComponentWhileAddingAField:L,isCreatingContentType:O,isCreatingDz:M,isComponentModal:I,isDzAttribute:k,isEditingAttribute:$,isEditingCategory:N,isInFirstComponentStep:B,onSubmitAddComponentAttribute:H,onSubmitAddComponentToDz:le,onSubmitCreateContentType:Te,onSubmitCreateComponent:Le,onSubmitCreateDz:Q,onSubmitEditAttribute:Ze,onSubmitEditCategory:de,onSubmitEditComponent:$e,onSubmitEditContentType:ye,onSubmitEditCustomFieldAttribute:he,onSubmitEditDz:Ye,onClickFinish:Me})=>{const{formatMessage:se}=(0,b.Z)();return c?h?n.createElement(ge.z,{variant:"secondary",type:"submit",onClick:U=>{U.preventDefault(),le(U,!0)},startIcon:n.createElement(He.Z,null)},se({id:(0,m.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):n.createElement(ge.z,{variant:"default",type:"submit",onClick:U=>{U.preventDefault(),le(U,!1)}},se({id:"global.finish",defaultMessage:"Finish"})):s&&k&&!M?n.createElement(ge.z,{variant:"default",type:"submit",onClick:U=>{U.preventDefault(),Me(),Ye(U,!1)}},se({id:"global.finish",defaultMessage:"Finish"})):s&&k&&M?n.createElement(n.Fragment,null,n.createElement(ge.z,{variant:"secondary",type:"submit",onClick:U=>{U.preventDefault(),Q(U,!0)},startIcon:n.createElement(He.Z,null)},se({id:(0,m.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):s&&l?B?n.createElement(ge.z,{variant:"secondary",type:"submit",onClick:U=>{U.preventDefault(),H(U,!0)}},se(y?{id:(0,m.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,m.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):n.createElement(n.Fragment,null,n.createElement(ge.z,{variant:"secondary",type:"submit",onClick:U=>{U.preventDefault(),H(U,!0)},startIcon:n.createElement(He.Z,null)},se(L?{id:(0,m.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,m.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(ge.z,{variant:"default",type:"button",onClick:U=>{U.preventDefault(),Me(),H(U,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))):s&&!l&&!k?n.createElement(n.Fragment,null,n.createElement(ge.z,{type:$?"button":"submit",variant:"secondary",onClick:U=>{U.preventDefault(),Ze(U,!0)},startIcon:n.createElement(He.Z,null)},se({id:(0,m.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(ge.z,{type:$?"submit":"button",variant:"default",onClick:U=>{U.preventDefault(),Me(),Ze(U,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))):g?n.createElement(n.Fragment,null,!O&&n.createElement(n.Fragment,null,n.createElement(ge.z,{type:"button",variant:"danger",onClick:U=>{U.preventDefault(),i()}},se({id:"global.delete",defaultMessage:"Delete"})),n.createElement(ge.z,{type:"submit",variant:"default",onClick:U=>{U.preventDefault(),ye(U,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))),O&&n.createElement(ge.z,{type:"submit",variant:"secondary",onClick:U=>{U.preventDefault(),Te(U,!0)}},se({id:"global.continue",defaultMessage:"Continue"}))):I?n.createElement(n.Fragment,null,!f&&n.createElement(n.Fragment,null,n.createElement(ge.z,{type:"button",variant:"danger",onClick:U=>{U.preventDefault(),r()}},se({id:"global.delete",defaultMessage:"Delete"})),n.createElement(ge.z,{type:"submit",variant:"default",onClick:U=>{U.preventDefault(),$e(U,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))),f&&n.createElement(ge.z,{type:"submit",variant:"secondary",onClick:U=>{U.preventDefault(),Le(U,!0)}},se({id:"global.continue",defaultMessage:"Continue"}))):N?n.createElement(n.Fragment,null,n.createElement(ge.z,{type:"button",variant:"danger",onClick:U=>{U.preventDefault(),t(e)}},se({id:"global.delete",defaultMessage:"Delete"})),n.createElement(ge.z,{type:"submit",variant:"default",onClick:U=>{U.preventDefault(),de(U)}},se({id:"global.finish",defaultMessage:"finish"}))):d?n.createElement(n.Fragment,null,n.createElement(ge.z,{type:$?"button":"submit",variant:"secondary",onClick:U=>{U.preventDefault(),he(U,!0)},startIcon:n.createElement(He.Z,null)},se({id:(0,m.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(ge.z,{type:$?"submit":"button",variant:"default",onClick:U=>{U.preventDefault(),Me(),he(U,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))):null};ga.defaultProps={categoryName:null,onClickFinish(){}},ga.propTypes={categoryName:o().string,deleteCategory:o().func.isRequired,deleteComponent:o().func.isRequired,deleteContentType:o().func.isRequired,isAttributeModal:o().bool.isRequired,isCustomFieldModal:o().bool.isRequired,isComponentAttribute:o().bool.isRequired,isComponentModal:o().bool.isRequired,isComponentToDzModal:o().bool.isRequired,isContentTypeModal:o().bool.isRequired,isCreatingComponent:o().bool.isRequired,isCreatingComponentAttribute:o().bool.isRequired,isCreatingComponentInDz:o().bool.isRequired,isCreatingComponentWhileAddingAField:o().bool.isRequired,isCreatingContentType:o().bool.isRequired,isCreatingDz:o().bool.isRequired,isDzAttribute:o().bool.isRequired,isEditingAttribute:o().bool.isRequired,isEditingCategory:o().bool.isRequired,isInFirstComponentStep:o().bool.isRequired,onSubmitAddComponentAttribute:o().func.isRequired,onSubmitAddComponentToDz:o().func.isRequired,onSubmitCreateContentType:o().func.isRequired,onSubmitCreateComponent:o().func.isRequired,onSubmitCreateDz:o().func.isRequired,onSubmitEditAttribute:o().func.isRequired,onSubmitEditCategory:o().func.isRequired,onSubmitEditComponent:o().func.isRequired,onSubmitEditContentType:o().func.isRequired,onSubmitEditCustomFieldAttribute:o().func.isRequired,onSubmitEditDz:o().func.isRequired,onClickFinish:o().func};const es=ga;var vr=a(37386);const Cr=()=>(0,u.jsx)(S,{"aria-hidden":!0,paddingLeft:1,paddingRight:1,children:(0,u.jsx)(oe,{variant:"pi",textColor:"neutral500",children:"/"})});Cr.displayName="Divider";const ts=(0,E.default)(pe)`
  // CrumbLinks do have padding-x, because they need to have a
  // interaction effect, which mis-aligns the breadcrumbs on the left.
  // This normalizes the behavior by moving the first item to left by
  // the same amount it has inner padding
  :first-child {
    margin-left: ${({theme:e})=>`calc(-1*${e.spaces[2]})`};
  }
`,Tr=({label:e,children:t,...r})=>{const i=n.Children.toArray(t);return(0,u.jsx)(S,{"aria-label":e,...r,children:(0,u.jsx)(ts,{as:"ol",children:n.Children.map(i,(s,d)=>{const l=i.length>1&&d+1<i.length;return(0,u.jsxs)(pe,{inline:!0,as:"li",children:[s,l&&(0,u.jsx)(Cr,{})]})})})})};Tr.displayName="Breadcrumbs";const Mr=({children:e,isCurrent:t=!1,...r})=>(0,u.jsx)(S,{paddingLeft:2,paddingRight:2,paddingTop:1,paddingBottom:1,children:(0,u.jsx)(oe,{variant:"pi",textColor:"neutral800",fontWeight:t?"bold":"normal","aria-current":t,...r,children:e})});Mr.displayName="Crumb";var ns=a(98447);const fa=({actionType:e,attributeName:t,attributeType:r,categoryName:i,contentTypeKind:s,dynamicZoneTarget:d,forTarget:l,modalType:c,targetUid:g,customFieldUid:f,showBackLink:y})=>{const{formatMessage:h}=(0,b.Z)(),{modifiedData:L}=(0,ke.Z)(),{onOpenModalAddField:O}=(0,tt.Z)();let M,I=[];const k=L?.[l]?.[g]||L?.[l]||null;let $=k?.schema.displayName;if(c==="contentType"&&(M=s),["component","editCategory"].includes(c)&&(M="component"),["component","contentType"].includes(c)){let B=(0,m.Z)(`modalForm.component.header-${e}`);return c==="contentType"&&(B=(0,m.Z)(`modalForm.${s}.header-create`)),e==="edit"&&(B=(0,m.Z)("modalForm.header-edit")),n.createElement(vr.x,null,n.createElement(ae.k,null,n.createElement(C.x,null,n.createElement(Xt.Z,{type:M})),n.createElement(C.x,{paddingLeft:3},n.createElement(me.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},h({id:B},{name:$})))))}return I=[{label:$,info:{category:k?.category||null,name:k?.schema.displayName}}],c==="chooseAttribute"&&(M=["component","components"].includes(l)?"component":k.schema.kind),c==="addComponentToDynamicZone"&&(M="dynamiczone",I.push({label:d})),(c==="attribute"||c==="customField")&&(M=r,I.push({label:t})),c==="editCategory"&&(I=[{label:h({id:(0,m.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]),n.createElement(vr.x,null,n.createElement(ae.k,{gap:3},y&&n.createElement(p.Link,{"aria-label":h({id:(0,m.Z)("modalForm.header.back"),defaultMessage:"Back"}),startIcon:n.createElement(ns.Z,null),onClick:()=>O({forTarget:l,targetUid:g}),to:"#back"}),n.createElement(Xt.Z,{type:M,customField:f}),n.createElement(Tr,{label:I.map(({label:B})=>B).join(",")},I.map(({label:B,info:H},le,Te)=>{if(B=Ke()(B),!B)return null;const Le=`${B}.${le}`;return H?.category&&(B=`${B} (${Ke()(H.category)} - ${Ke()(H.name)})`),n.createElement(Mr,{isCurrent:le===Te.length-1,key:Le},B)}))))};fa.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null,showBackLink:!1},fa.propTypes={actionType:o().string,attributeName:o().string,attributeType:o().string,categoryName:o().string,contentTypeKind:o().string,dynamicZoneTarget:o().string,forTarget:o().oneOf(["contentType","component","components"]),modalType:o().string.isRequired,targetUid:o().string,customFieldUid:o().string,showBackLink:o().bool};const as=fa,rs=({modalType:e,forTarget:t,kind:r,actionType:i,step:s})=>{switch(e){case"chooseAttribute":return(0,m.Z)(`modalForm.sub-header.chooseAttribute.${t.includes("component")?"component":r||"collectionType"}`);case"attribute":return(0,m.Z)(`modalForm.sub-header.attribute.${i}${s!=="null"&&s!==null&&i!=="edit"?".step":""}`);case"customField":return(0,m.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,m.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,m.Z)("configurations")}},ha=({actionType:e,modalType:t,forTarget:r,kind:i,step:s,attributeType:d,attributeName:l,customField:c})=>{const{formatMessage:g}=(0,b.Z)(),f=t==="customField"?c.intlLabel:{id:(0,m.Z)(`attribute.${d}`)};return n.createElement(ae.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},n.createElement(me.Z,{as:"h2",variant:"beta"},g({id:rs({actionType:e,forTarget:r,kind:i,step:s,modalType:t}),defaultMessage:"Add new field"},{type:Ke()(g(f)),name:Ke()(l),step:s})),n.createElement(me.Z,{variant:"pi",textColor:"neutral600"},g({id:(0,m.Z)(`attribute.${d}.description`),defaultMessage:"A type for modeling data"})))};ha.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},ha.propTypes={actionType:o().string,modalType:o().string,forTarget:o().string,kind:o().string,step:o().string,attributeType:o().string,attributeName:o().string,customField:o().object};const os=ha;var ss=a(35090),is=a(84814),ls=a(17992),ds=a(92602),cs=a(92856),xr=a(2667),us=a(62750),ms=a(18076),Rr=a(25237);const ps=(0,E.default)(ae.k)`
  label {
    ${hr.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Ar=({iconKey:e,name:t,onChange:r,isSelected:i,ariaLabel:s})=>n.createElement(ss.g,{name:t,required:!1},n.createElement(is.Q,{htmlFor:e,id:`${e}-label`},n.createElement(ls.T,null,n.createElement(ds._,{type:"radio",id:e,name:t,checked:i,onChange:r,value:e,"aria-checked":i,"aria-labelledby":`${e}-label`}),s),n.createElement(ae.k,{padding:2,cursor:"pointer",hasRadius:!0,background:i&&"primary200"},n.createElement(V.J,{as:Rr.c[e],color:i?"primary600":"neutral300"}))));Ar.propTypes={iconKey:o().string.isRequired,name:o().string.isRequired,onChange:o().func.isRequired,isSelected:o().bool.isRequired,ariaLabel:o().string.isRequired};const ya=({intlLabel:e,name:t,onChange:r,value:i})=>{const{formatMessage:s}=(0,b.Z)(),[d,l]=(0,n.useState)(!1),[c,g]=(0,n.useState)(""),f=Object.keys(Rr.c),[y,h]=(0,n.useState)(f),L=(0,n.useRef)(null),O=(0,n.useRef)(null),M=()=>{l(!d)},I=({target:{value:N}})=>{g(N),h(()=>f.filter(B=>B.toLowerCase().includes(N.toLowerCase())))},k=()=>{M(),g(""),h(f)},$=()=>{r({target:{name:t,value:""}})};return(0,n.useEffect)(()=>{d&&O.current.focus()},[d]),n.createElement(n.Fragment,null,n.createElement(ae.k,{justifyContent:"space-between",paddingBottom:2},n.createElement(me.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},s(e)),n.createElement(ae.k,{gap:1},d?n.createElement(cs.w,{ref:O,name:"searchbar",size:"S",placeholder:s({id:(0,m.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{c||M()},onChange:I,value:c,onClear:k,clearLabel:s({id:(0,m.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},s({id:(0,m.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):n.createElement(xr.h,{ref:L,onClick:M,"aria-label":s({id:(0,m.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:n.createElement(ue.Z,null),noBorder:!0}),i&&n.createElement(us.u,{description:s({id:(0,m.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},n.createElement(xr.h,{onClick:$,"aria-label":s({id:(0,m.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:n.createElement(ms.Z,null),noBorder:!0})))),n.createElement(ps,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},y.length>0?y.map(N=>n.createElement(Ar,{key:N,iconKey:N,name:t,onChange:r,isSelected:N===i,ariaLabel:s({id:(0,m.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:N})})):n.createElement(C.x,{padding:4,grow:2},n.createElement(me.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},s({id:(0,m.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};ya.defaultProps={value:""},ya.propTypes={intlLabel:o().object.isRequired,name:o().string.isRequired,onChange:o().func.isRequired,value:o().string};const gs=ya;var fs=a(6699),Ea=a.n(fs),Or=a(50478);const ba=({description:e,error:t,intlLabel:r,modifiedData:i,name:s,onChange:d,value:l})=>{const{formatMessage:c}=(0,b.Z)(),g=(0,n.useRef)(d),f=i?.displayName||"";(0,n.useEffect)(()=>{if(f){const O=(0,Or.Z)(f);try{const M=Ea()(O,2);g.current({target:{name:s,value:M}})}catch{g.current({target:{name:s,value:O}})}}else g.current({target:{name:s,value:""}})},[f,s]);const y=t?c({id:t,defaultMessage:t}):"",h=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",L=c(r);return n.createElement(ua.o,{error:y,label:L,id:s,hint:h,name:s,onChange:d,value:l||""})};ba.defaultProps={description:null,error:null,value:null},ba.propTypes={description:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}),error:o().string,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,modifiedData:o().object.isRequired,name:o().string.isRequired,onChange:o().func.isRequired,value:o().string};const hs=ba;var va=a(82534),we=a(14078),ys=a(61043),Es=a(34120);const bs=(0,E.default)(Tt)`
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  gap: ${({theme:e})=>e.spaces[2]};
  pointer-events: ${({disabled:e})=>e?"none":void 0};

  svg {
    font-size: ${10/16}rem;

    path {
      fill: ${({disabled:e,theme:t})=>e?t.colors.neutral600:t.colors.primary600};
    }
  }

  &:hover {
    color: ${({theme:e})=>e.colors.primary500};
  }

  &:active {
    color: ${({theme:e})=>e.colors.primary700};
  }

  ${Lt};
`,Zr=n.forwardRef(({children:e,href:t,disabled:r=!1,startIcon:i,endIcon:s,isExternal:d=!0,...l},c)=>(0,u.jsxs)(bs,{ref:c,href:t,disabled:r,isExternal:d,...l,children:[i,(0,u.jsx)(oe,{textColor:r?"neutral600":"primary600",children:e}),s,t&&!s&&d&&(0,u.jsx)(Es.Z,{})]}));Zr.displayName="Link";var vs=a(30085);const Ca="success-light",Ta="danger-light",Jt="default",xt="tertiary",Rt="secondary",Pr="danger",Dr="success",Ma="ghost",xa=[Ca,Ta],Cs=[Jt,xt,Rt,Pr,Dr,Ma,...xa],Ts=["S","M","L"],De=e=>e===Ca||e===Ta?`${e.substring(0,e.lastIndexOf("-"))}`:e===xt?"neutral":e===Jt||e===Rt||Cs.every(t=>t!==e)?"primary":`${e}`,Lr=({theme:e})=>`
    border: 1px solid ${e.colors.neutral200};
    background: ${e.colors.neutral150};
    ${oe} {
      color: ${e.colors.neutral600};
    }
    svg {
      > g, path {
        fill: ${e.colors.neutral600};
      }
    }
  `,Ms=({theme:e,variant:t})=>[...xa,Rt].includes(t)?`
      background-color: ${e.colors.neutral0};
    `:t===xt?`
      background-color: ${e.colors.neutral100};
    `:t===Ma?`
      background-color: ${e.colors.neutral100};
    `:t===Jt?`
      border: 1px solid ${e.colors.buttonPrimary500};
      background: ${e.colors.buttonPrimary500};
    `:`
    border: 1px solid ${e.colors[`${De(t)}500`]};
    background: ${e.colors[`${De(t)}500`]};
  `,xs=({theme:e,variant:t})=>[...xa,Rt].includes(t)?`
      background-color: ${e.colors.neutral0};
      border: 1px solid ${e.colors[`${De(t)}600`]};
      ${oe} {
        color: ${e.colors[`${De(t)}600`]};
      }
      svg {
        > g, path {
          fill: ${e.colors[`${De(t)}600`]};
        }
      }
    `:t===xt?`
      background-color: ${e.colors.neutral150};
    `:`
    border: 1px solid ${e.colors[`${De(t)}600`]};
    background: ${e.colors[`${De(t)}600`]};
  `,Rs=({theme:e,variant:t})=>{switch(t){case Ta:case Ca:case Rt:return`
          border: 1px solid ${e.colors[`${De(t)}200`]};
          background: ${e.colors[`${De(t)}100`]};
          ${oe} {
            color: ${e.colors[`${De(t)}700`]};
          }
          svg {
            > g, path {
              fill: ${e.colors[`${De(t)}700`]};
            }
          }
        `;case xt:return`
          border: 1px solid ${e.colors.neutral200};
          background: ${e.colors.neutral0};
          ${oe} {
            color: ${e.colors.neutral800};
          }
          svg {
            > g, path {
              fill: ${e.colors.neutral800};
            }
          }
        `;case Ma:return`
        border: 1px solid transparent;
        background: transparent;

        ${oe} {
          color: ${e.colors.neutral800};
        }

        svg {
          > g, path {
            fill: ${e.colors.neutral500};
          }
        }
      `;case Dr:case Pr:return`
          border: 1px solid ${e.colors[`${De(t)}600`]};
          background: ${e.colors[`${De(t)}600`]};
          ${oe} {
            color: ${e.colors.neutral0};
          }
        `;default:return`
          svg {
            > g, path {
              fill: ${e.colors.buttonNeutral0};
            }
          }
        `}},As=(0,E.keyframes)`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,Os=(0,E.default)(vs.Z)`
  animation: ${As} 2s infinite linear;
  will-change: transform;
`,Zs=(0,E.default)(vt)`
  height: ${({theme:e,size:t})=>e.sizes.button[t]};

  svg {
    height: ${12/16}rem;
    width: auto;
  }

  &[aria-disabled='true'] {
    ${Lr}

    &:active {
      ${Lr}
    }
  }

  &:hover {
    ${Ms}
  }

  &:active {
    ${xs}
  }

  ${Rs}
`,$r=n.forwardRef(({variant:e=Jt,startIcon:t,endIcon:r,disabled:i=!1,children:s,onClick:d,size:l=Ts[0],loading:c=!1,fullWidth:g=!1,...f},y)=>{const h=i||c,L=O=>{!h&&d&&d(O)};return(0,u.jsxs)(Zs,{ref:y,"aria-disabled":h,disabled:h,size:l,variant:e,onClick:L,fullWidth:g,alignItems:"center",background:"buttonPrimary600",borderColor:"buttonPrimary600",gap:2,inline:g,justifyContent:g?"center":void 0,paddingLeft:4,paddingRight:4,width:g?"100%":void 0,...f,children:[(t||c)&&(0,u.jsx)(S,{"aria-hidden":!0,children:c?(0,u.jsx)(Os,{}):t}),(0,u.jsx)(oe,{variant:l==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:s}),r&&(0,u.jsx)(pe,{"aria-hidden":!0,children:r})]})});$r.displayName="Button";const Ps=we.fC,Ds=(0,n.forwardRef)(({size:e,endIcon:t=(0,u.jsx)(Ct.Z,{width:`${6/16}rem`,height:`${4/16}rem`,"aria-hidden":!0}),...r},i)=>(0,u.jsx)(we.xz,{asChild:!0,children:(0,u.jsx)($r,{ref:i,type:"button",variant:"ghost",endIcon:t,paddingTop:e==="S"?1:2,paddingBottom:e==="S"?1:2,paddingLeft:e==="S"?3:4,paddingRight:e==="S"?3:4,...r})})),Ls=(0,n.forwardRef)(({children:e,intersectionId:t,popoverPlacement:r="bottom-start",...i},s)=>{const[d,l]=r.split("-");return(0,u.jsx)(we.Uv,{children:(0,u.jsx)(we.VY,{align:l,side:d,loop:!0,asChild:!0,children:(0,u.jsxs)(Sr,{ref:s,direction:"column",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral150",hasRadius:!0,background:"neutral0",shadow:"filterShadow",maxHeight:"15rem",padding:1,alignItems:"flex-start",position:"relative",overflow:"auto",...i,children:[e,(0,u.jsx)(S,{id:t,width:"100%",height:"1px"})]})})})}),Sr=(0,E.default)(pe)`
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;

  &::-webkit-scrollbar {
    display: none;
  }
`,$s=({onSelect:e,disabled:t=!1,...r})=>(0,u.jsx)(we.ck,{asChild:!0,onSelect:e,disabled:t,children:r.isLink||r.isExternal?(0,u.jsx)(Ss,{color:"neutral800",...r,isExternal:r.isExternal??!1,children:(0,u.jsx)(oe,{children:r.children})}):(0,u.jsx)(Br,{cursor:"pointer",color:"neutral800",background:"transparent",borderStyle:"none",...r,children:(0,u.jsx)(oe,{children:r.children})})}),Ir=({theme:e})=>(0,E.css)`
  text-align: left;
  width: 100%;
  border-radius: ${e.borderRadius};
  padding: ${e.spaces[2]} ${e.spaces[4]};

  ${oe} {
    color: inherit;
  }

  &[aria-disabled] {
    cursor: not-allowed;

    ${oe} {
      color: ${e.colors.neutral500};
    }
  }

  &[data-highlighted] {
    background-color: ${e.colors.primary100};
  }

  &:focus-visible {
    outline: none;

    &:after {
      content: none;
    }
  }
`,Br=(0,E.default)(pe)`
  ${Ir}
`,Ss=(0,E.default)(Zr)`
  /* We include this here again because typically when people use OptionLink they provide an as prop which cancels the Box props */
  color: ${({theme:e,color:t})=>_(e.colors,t,void 0)};
  text-decoration: none;

  &:hover {
    color: unset;
  }

  svg > path,
  &:focus-visible svg > path {
    fill: currentColor;
  }

  ${Ir}
`,Ll=(0,n.forwardRef)((e,t)=>(0,u.jsx)(we.__,{asChild:!0,children:(0,u.jsx)(Is,{ref:t,variant:"sigma",textColor:"neutral600",...e})})),Is=(0,E.default)(oe)`
  padding: ${({theme:e})=>e.spaces[2]} ${({theme:e})=>e.spaces[4]};
`,$l=we.Tr,Sl=(0,n.forwardRef)(({disabled:e=!1,...t},r)=>(0,u.jsx)(we.fF,{asChild:!0,disabled:e,children:(0,u.jsxs)(Bs,{ref:r,color:"neutral800",as:"button",type:"button",background:"transparent",borderStyle:"none",gap:5,...t,children:[(0,u.jsx)(oe,{children:t.children}),(0,u.jsx)(Fs,{height:12,width:12})]})})),Bs=(0,E.default)(Br)`
  &[data-state='open'] {
    background-color: ${({theme:e})=>e.colors.primary100};
  }
`,Fs=(0,E.default)(ys.Z)`
  path {
    fill: ${({theme:e})=>e.colors.neutral500};
  }
`,Il=(0,n.forwardRef)((e,t)=>(0,u.jsx)(we.Uv,{children:(0,u.jsx)(we.tu,{sideOffset:8,asChild:!0,children:(0,u.jsx)(Sr,{ref:t,direction:"column",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral150",hasRadius:!0,background:"neutral0",shadow:"filterShadow",maxHeight:"15rem",padding:1,alignItems:"flex-start",overflow:"auto",...e})})})),Ns=Ps,Us=Ds,Ws=Ls,js=$s,Bl=null,Fl=null,Nl=null,Ul=null;var fe=a(28861);const Ra=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:r,sortedContentTypesList:i}=(0,ke.Z)(),s=(0,st.I0)(),d=i.filter(dr),{plugin:l=null,schema:{displayName:c}={displayName:"error"}}=r?.[t]??{},g=({uid:f,plugin:y,title:h,restrictRelationsTo:L})=>()=>{const O=y?`${y}_${h}`:h;s({type:fe.aG,target:{value:f,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:O,targetContentTypeAllowedRelations:L}})};return n.createElement(Ns,null,n.createElement(Ks,null,`${c} ${l?`(from: ${l})`:""}`),n.createElement(Ws,{zIndex:5},d.map(({uid:f,title:y,restrictRelationsTo:h,plugin:L})=>n.createElement(js,{key:f,onSelect:g({uid:f,plugin:L,title:y,restrictRelationsTo:h})},y,"\xA0",L&&n.createElement(n.Fragment,null,"(from: ",L,")")))))};Ra.defaultProps={target:null},Ra.propTypes={oneThatIsCreatingARelationWithAnother:o().string.isRequired,target:o().string};const Ks=(0,E.default)(Us)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`,_s=Ra,Aa=({disabled:e,error:t,header:r,isMain:i,name:s,onChange:d,oneThatIsCreatingARelationWithAnother:l,target:c,value:g})=>n.createElement(C.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},n.createElement(ae.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?n.createElement(me.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},r):n.createElement(_s,{target:c,oneThatIsCreatingARelationWithAnother:l})),n.createElement(na.i,{background:"neutral200"}),n.createElement(C.x,{padding:4},n.createElement(p.GenericInput,{disabled:e,error:t?.id||null,intlLabel:{id:(0,m.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:s,onChange:d,type:"text",value:g})));Aa.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Aa.propTypes={disabled:o().bool,error:o().object,header:o().string,isMain:o().bool,name:o().string.isRequired,onChange:o().func,oneThatIsCreatingARelationWithAnother:o().string,target:o().string,value:o().string};const Fr=Aa;var zs=a(70414),ks=a(16760),ws=a(66390),Vs=a(7040),Gs=a(92056),Hs=a(38849),Ys=a(85100),Nr=a.n(Ys);const Xs=(0,E.default)(C.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,qs=(0,E.default)(C.x)`
  background: ${({theme:e,isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Qs=(0,E.default)(ae.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Js={oneWay:zs.Z,oneToOne:ks.Z,oneToMany:ws.Z,manyToOne:Vs.Z,manyToMany:Gs.Z,manyWay:Hs.Z},Oa=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:r,target:i})=>{const s=(0,st.I0)(),{formatMessage:d}=(0,b.Z)(),{contentTypes:l,modifiedData:c}=(0,ke.Z)(),g=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],f=["oneWay","manyWay"],h=(e==="contentType"?K()(c,[e,"schema","kind"],""):e)==="collectionType"?g:f,L=r==="manyToOne",O=K()(l,[i,"schema","displayName"],"unknown"),M=L?O:t,I=L?t:O,k=Ea()(M,r==="manyToMany"?2:1),$=K()(l,[i,"schema","restrictRelationsTo"],null),N=Ea()(I,["manyToMany","oneToMany","manyToOne","manyWay"].includes(r)?2:1);return r?n.createElement(ae.k,{style:{flex:1}},n.createElement(Xs,null,n.createElement(ae.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},n.createElement(oa.k,{tagName:"button"},n.createElement(ae.k,{gap:3},h.map(B=>{const H=Js[B],le=$===null||$.includes(B);return n.createElement(qs,{as:"button",isSelected:r===B,disabled:!le,key:B,onClick:()=>{le&&s({type:fe.QQ,target:{oneThatIsCreatingARelationWithAnother:t,targetContentType:i,value:B}})},padding:2,type:"button"},n.createElement(H,{key:B}))}))))),n.createElement(Qs,{justifyContent:"center"},n.createElement(me.Z,null,Nr()(k,{length:24}),"\xA0"),n.createElement(me.Z,{textColor:"primary600"},d({id:(0,m.Z)(`relation.${r}`)}),"\xA0"),n.createElement(me.Z,null,Nr()(N,{length:24})))):null};Oa.defaultProps={relationType:null,target:null},Oa.propTypes={naturePickerType:o().string.isRequired,oneThatIsCreatingARelationWithAnother:o().string.isRequired,relationType:o().string,target:o().string};const ei=Oa,Ur=({formErrors:e,mainBoxHeader:t,modifiedData:r,naturePickerType:i,onChange:s})=>{const d=(0,va.Z)(r.relation,r.targetAttribute);return n.createElement(ae.k,{style:{position:"relative"}},n.createElement(Fr,{isMain:!0,header:t,error:e?.name||null,name:"name",onChange:s,value:r?.name||""}),n.createElement(ei,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:t,relationType:d,target:r.target}),n.createElement(Fr,{disabled:["oneWay","manyWay"].includes(d),error:e?.targetAttribute||null,name:"targetAttribute",onChange:s,oneThatIsCreatingARelationWithAnother:t,target:r.target,value:r?.targetAttribute||""}))};Ur.propTypes={formErrors:o().object.isRequired,mainBoxHeader:o().string.isRequired,modifiedData:o().object.isRequired,naturePickerType:o().string.isRequired,onChange:o().func.isRequired};const ti=Ur;var ni=a(71943),ai=a(930);const Za=({error:e,intlLabel:t,name:r,onChange:i,value:s})=>{const{formatMessage:d}=(0,b.Z)(),{allComponentsCategories:l}=(0,ke.Z)(),[c,g]=(0,n.useState)(l),f=e?d({id:e,defaultMessage:e}):"",y=d(t),h=O=>{i({target:{name:r,value:O,type:"select-category"}})},L=O=>{g(M=>[...M,O]),h(O)};return n.createElement(ni.XU,{error:f,id:r,label:y,name:r,onChange:h,onCreateOption:L,value:s},c.map(O=>n.createElement(ai.O,{key:O,value:O},O)))};Za.defaultProps={error:null,value:null},Za.propTypes={error:o().string,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,name:o().string.isRequired,onChange:o().func.isRequired,value:o().string};const ri=Za,Pa=({error:e,intlLabel:t,isAddingAComponentToAnotherComponent:r,isCreating:i,isCreatingComponentWhileAddingAField:s,componentToCreate:d,name:l,onChange:c,targetUid:g,forTarget:f,value:y})=>{const{formatMessage:h}=(0,b.Z)(),L=e?h({id:e,defaultMessage:e}):"",O=h(t),{componentsGroupedByCategory:M,componentsThatHaveOtherComponentInTheirAttributes:I}=(0,ke.Z)(),k=["component","components"].includes(f);let $=Object.entries(M).reduce((N,B)=>{const[H,le]=B,Te=le.map(Le=>({uid:Le.uid,label:Le.schema.displayName,categoryName:H}));return[...N,...Te]},[]);return r&&($=$.filter(N=>!I.includes(N.uid))),k&&($=$.filter(N=>N.uid!==g)),s&&($=[{uid:y,label:d.displayName,categoryName:d.category}]),n.createElement(qt.P,{disabled:s||!i,error:L,label:O,id:l,name:l,onChange:N=>{c({target:{name:l,value:N,type:"select-category"}})},value:y||""},$.map(N=>n.createElement(Qt.W,{key:N.uid,value:N.uid},`${N.categoryName} - ${N.label}`)))};Pa.defaultProps={componentToCreate:null,error:null},Pa.propTypes={componentToCreate:o().object,forTarget:o().string.isRequired,error:o().string,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,isAddingAComponentToAnotherComponent:o().bool.isRequired,isCreating:o().bool.isRequired,isCreatingComponentWhileAddingAField:o().bool.isRequired,name:o().string.isRequired,onChange:o().func.isRequired,targetUid:o().string.isRequired,value:o().string.isRequired};const oi=Pa,Wr=({dynamicZoneTarget:e,intlLabel:t,name:r,onChange:i,value:s})=>{const{formatMessage:d}=(0,b.Z)(),{componentsGroupedByCategory:l,modifiedData:c}=(0,ke.Z)(),f=(aa(c.contentType.schema.attributes,e)||{}).components||[],y=Object.keys(l).reduce((O,M)=>{const I=l[M].filter(({uid:k})=>!f.includes(k));return I.length>0&&(O[M]=I),O},{}),h=Object.entries(y).reduce((O,M)=>{const[I,k]=M,$={label:I,children:k.map(({uid:N,schema:{displayName:B}})=>({label:B,value:N}))};return O.push($),O},[]),L=d({id:(0,m.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:s.length});return n.createElement(cr.Q,{id:"select1",label:d(t),customizeContent:()=>L,name:r,onChange:O=>{i({target:{name:r,value:O,type:"select-components"}})},options:h,value:s||[]})};Wr.propTypes={intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,dynamicZoneTarget:o().string.isRequired,name:o().string.isRequired,onChange:o().func.isRequired,value:o().array.isRequired};const si=Wr,Da=({intlLabel:e,error:t,modifiedData:r,name:i,onChange:s,options:d,value:l})=>{const{formatMessage:c}=(0,b.Z)(),g=c(e),f=t?c({id:t,defaultMessage:t}):"",y=h=>{s({target:{name:i,value:h,type:"select"}}),l&&r.default!==void 0&&r.default!==null&&s({target:{name:"default",value:null}})};return n.createElement(qt.P,{error:f,label:g,id:i,name:i,onChange:y,value:l||""},d.map(({metadatas:{intlLabel:h,disabled:L,hidden:O},key:M,value:I})=>n.createElement(Qt.W,{key:M,value:I,disabled:L,hidden:O},c({id:h.id,defaultMessage:h.defaultMessage},h.values))))};Da.defaultProps={error:void 0,value:""},Da.propTypes={error:o().string,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,modifiedData:o().object.isRequired,name:o().string.isRequired,onChange:o().func.isRequired,options:o().arrayOf(o().shape({metadatas:o().shape({intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}).isRequired,disabled:o().bool,hidden:o().bool}).isRequired,key:o().oneOfType([o().string,o().number]).isRequired,value:o().oneOfType([o().string,o().number]).isRequired}).isRequired).isRequired,value:o().string};const ii=Da,La=({intlLabel:e,error:t,modifiedData:r,name:i,onChange:s,options:d,value:l})=>{const{formatMessage:c}=(0,b.Z)(),g=c(e),f=t?c({id:t,defaultMessage:t}):"",y=h=>{s({target:{name:i,value:h,type:"select"}}),l&&(h==="biginteger"&&l!=="biginteger"&&(r.default!==void 0&&r.default!==null&&s({target:{name:"default",value:null}}),r.max!==void 0&&r.max!==null&&s({target:{name:"max",value:null}}),r.min!==void 0&&r.min!==null&&s({target:{name:"min",value:null}})),["decimal","float","integer"].includes(h)&&l==="biginteger"&&(r.default!==void 0&&r.default!==null&&s({target:{name:"default",value:null}}),r.max!==void 0&&r.max!==null&&s({target:{name:"max",value:null}}),r.min!==void 0&&r.min!==null&&s({target:{name:"min",value:null}})))};return n.createElement(qt.P,{error:f,label:g,id:i,name:i,onChange:y,value:l||""},d.map(({metadatas:{intlLabel:h,disabled:L,hidden:O},key:M,value:I})=>n.createElement(Qt.W,{key:M,value:I,disabled:L,hidden:O},c(h))))};La.defaultProps={error:void 0,value:""},La.propTypes={error:o().string,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,modifiedData:o().object.isRequired,name:o().string.isRequired,onChange:o().func.isRequired,options:o().arrayOf(o().shape({metadatas:o().shape({intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}).isRequired,disabled:o().bool,hidden:o().bool}).isRequired,key:o().oneOfType([o().string,o().number]).isRequired,value:o().oneOfType([o().string,o().number]).isRequired}).isRequired).isRequired,value:o().string};const li=La,$a=({description:e,error:t,intlLabel:r,modifiedData:i,name:s,onChange:d,value:l})=>{const{formatMessage:c}=(0,b.Z)(),g=(0,n.useRef)(d),f=i?.displayName||"";(0,n.useEffect)(()=>{f?g.current({target:{name:s,value:(0,Or.Z)(f)}}):g.current({target:{name:s,value:""}})},[f,s]);const y=t?c({id:t,defaultMessage:t}):"",h=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",L=c(r);return n.createElement(ua.o,{error:y,label:L,id:s,hint:h,name:s,onChange:d,value:l||""})};$a.defaultProps={description:null,error:null,value:null},$a.propTypes={description:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}),error:o().string,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,modifiedData:o().object.isRequired,name:o().string.isRequired,onChange:o().func.isRequired,value:o().string};const di=$a,jr=({form:e,formErrors:t,genericInputProps:r,modifiedData:i,onChange:s})=>{const{formatMessage:d}=(0,b.Z)();return e.map((l,c)=>l.items.length===0?null:n.createElement(C.x,{key:c},l.sectionTitle&&n.createElement(C.x,{paddingBottom:4},n.createElement(me.Z,{variant:"delta",as:"h3"},d(l.sectionTitle))),n.createElement(sa.r,{gap:4},l.items.map((g,f)=>{const y=`${c}.${f}`,h=K()(i,g.name,""),L=Object.keys(t).find(M=>M===g.name),O=L?t[L].id:K()(t,[...g.name.split(".").filter(M=>M!=="componentToCreate"),"id"],null);return g.type==="pushRight"?n.createElement(Yt.P,{col:g.size||6,key:g.name||y},n.createElement("div",null)):n.createElement(Yt.P,{col:g.size||6,key:g.name||y},n.createElement(p.GenericInput,{...g,...r,error:O,onChange:s,value:h}))}))))};jr.propTypes={form:o().arrayOf(o().object).isRequired,formErrors:o().object.isRequired,genericInputProps:o().object.isRequired,modifiedData:o().object.isRequired,onChange:o().func.isRequired};const Kr=jr;var ci=a(87549);const Sa=({description:e,disabled:t,error:r,intlLabel:i,labelAction:s,name:d,onChange:l,placeholder:c,value:g})=>{const{formatMessage:f}=(0,b.Z)(),y=r?f({id:r,defaultMessage:r}):"",h=e?f({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",L=f(i),O=c?f({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",M=Array.isArray(g)?g.join(`
`):"",I=k=>{const $=k.target.value.split(`
`);l({target:{name:d,value:$}})};return n.createElement(ci.g,{disabled:t,error:y,label:L,labelAction:s,id:d,hint:h,name:d,onChange:I,placeholder:O,value:M},M)};Sa.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Sa.propTypes={description:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}),disabled:o().bool,error:o().string,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}).isRequired,labelAction:o().element,name:o().string.isRequired,onChange:o().func.isRequired,placeholder:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired,values:o().object}),value:o().oneOfType([o().array,o().string])};const ui=Sa,Ve={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,m.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},mi={sections:[{sectionTitle:null,items:[Ve]}]},Ia={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,m.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,m.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,m.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,m.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]};var P=a(47853);const _r=/^[A-Za-z][-_0-9A-Za-z]*$/,pi=e=>{const t={name:P.Z_().matches(_r,p.translatedErrors.regex).test({name:"nameNotAllowed",message:p.translatedErrors.unique,test(r){return r?!e.includes(r?.toLowerCase()):!1}}).required(p.translatedErrors.required)};return P.Ry(t)},gi={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,m.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}};var mt=a(9816);const fi=(e,t,r)=>{const i={displayName:P.Z_().test({name:"nameAlreadyUsed",message:p.translatedErrors.unique,test(s){if(!s)return!1;const d=(0,mt.N)(s,r);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(s){return s?!t.includes(s?.trim()?.toLowerCase()):!1}}).required(p.translatedErrors.required),category:P.Z_().matches(_r,p.translatedErrors.regex).required(p.translatedErrors.required),icon:P.Z_()};return P.Ry(i)},pt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,m.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,m.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,m.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},j={default:{name:"default",type:"text",intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,m.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,m.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,m.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,m.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,m.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,m.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,m.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,m.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},zr={advanced:{boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.private]}]}},component({repeatable:e},t){return t==="1"?{sections:pt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.private,j.max,j.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...j.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.unique,j.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.max,j.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...j.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.unique,j.maxLength,j.minLength,j.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,r)=>e.enum.indexOf(t)===r&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:(0,m.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,m.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,m.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.private]}]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.unique,j.max,j.min,j.private]}]}},password(){return{sections:[{sectionTitle:null,items:[j.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.maxLength,j.minLength,j.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[j.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.maxLength,j.minLength,j.private]}]}},text(){return{sections:[{sectionTitle:null,items:[j.default,j.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.unique,j.maxLength,j.minLength,j.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...j.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[j.required,j.maxLength,j.minLength,j.private]}]}}},base:{component(e,t){if(t==="1"){const r=e.createComponent===!0?pt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Ia]},...r]}}return{sections:[{sectionTitle:null,items:[Ve,{name:"component",type:"select-component",intlLabel:{id:(0,m.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,m.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,m.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,m.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,m.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ve,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ve]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,m.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,m.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ve]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,m.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,m.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,m.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,m.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ve,{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ve]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,m.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,m.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,m.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,m.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ve]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,m.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,m.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,m.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,m.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,r){const i=r.filter(({type:s})=>["string","text"].includes(s)).map(({name:s})=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}));return{sections:[{sectionTitle:null,items:[{...Ve,placeholder:{id:(0,m.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,m.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}};var hi=a(81465),yi=a.n(hi),Ei=a(12665),bi=a.n(Ei);const Ba=e=>bi()(e,{decamelize:!1,lowercase:!1,separator:"_"});var vi=a(51527),Fa=a.n(vi);const kr=/^[A-Za-z][_0-9A-Za-z]*$/,wr=e=>({name:"attributeNameAlreadyUsed",message:p.translatedErrors.unique,test(t){return t?!e.includes(t):!1}}),Jl=(e,t,r)=>{const i=e?.schema?.attributes??{};return Object.keys(i).filter(s=>t?s!==r:!0)},Na=e=>({name:"forbiddenAttributeName",message:(0,m.Z)("error.attributeName.reserved-name"),test(t){return t?!e.includes(t):!1}}),x={default:()=>P.Z_().nullable(),max:()=>P.Rx().integer().nullable(),min:()=>P.Rx().integer().when("max",(e,t)=>e?t.max(e,(0,m.Z)("error.validation.minSupMax")):t).nullable(),maxLength:()=>P.Rx().integer().positive((0,m.Z)("error.validation.positive")).nullable(),minLength:()=>P.Rx().integer().min(0).when("maxLength",(e,t)=>e?t.max(e,(0,m.Z)("error.validation.minSupMax")):t).nullable(),name(e,t){return P.Z_().test(wr(e)).test(Na(t)).matches(kr,p.translatedErrors.regex).required(p.translatedErrors.required)},required:()=>P.O7(),type:()=>P.Z_().required(p.translatedErrors.required),unique:()=>P.O7().nullable()},Ua=(e,t)=>({name:x.name(e,t),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength(),regex:P.Z_().test({name:"isValidRegExpPattern",message:(0,m.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),Wa={name:"isMinSuperiorThanMax",message:(0,m.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN(Fa()(e))?!0:Fa()(t)>=Fa()(e)}},ja={date(e,t){const r={name:x.name(e,t),type:x.type()};return P.Ry(r)},datetime(e,t){const r={name:x.name(e,t),type:x.type()};return P.Ry(r)},time(e,t){const r={name:x.name(e,t),type:x.type()};return P.Ry(r)},default(e,t){const r={name:x.name(e,t),type:x.type()};return P.Ry(r)},biginteger(e,t){const r={name:x.name(e,t),type:x.type(),default:P.Z_().nullable().matches(/^-?\d*$/),unique:x.unique(),required:x.required(),max:P.Z_().nullable().matches(/^-?\d*$/,p.translatedErrors.regex),min:P.Z_().nullable().test(Wa).matches(/^-?\d*$/,p.translatedErrors.regex)};return P.Ry(r)},boolean(e,t){const r={name:x.name(e,t),default:P.O7().nullable(),required:x.required(),unique:x.unique()};return P.Ry(r)},component(e,t){const r={name:x.name(e,t),type:x.type(),required:x.required(),max:x.max(),min:x.min(),component:P.Z_().required(p.translatedErrors.required)};return P.Ry(r)},decimal(e,t){const r={name:x.name(e,t),type:x.type(),default:P.Rx(),required:x.required(),max:P.Rx(),min:P.Rx().test(Wa)};return P.Ry(r)},dynamiczone(e,t){const r={name:x.name(e,t),type:x.type(),required:x.required(),max:x.max(),min:x.min()};return P.Ry(r)},email(e,t){const r={name:x.name(e,t),type:x.type(),default:P.Z_().email().nullable(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength()};return P.Ry(r)},enumeration(e,t){const r=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:P.Z_().test(wr(e)).test(Na(t)).matches(r,p.translatedErrors.regex).required(p.translatedErrors.required),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),enum:P.IX().of(P.Z_()).min(1,p.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,m.Z)("error.validation.enum-duplicate"),test(s){return!yi()(s.map(Ba).filter((l,c,g)=>g.indexOf(l)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,m.Z)("error.validation.enum-empty-string"),test:s=>!s.map(Ba).some(d=>d==="")}).test({name:"doesMatchRegex",message:(0,m.Z)("error.validation.enum-regex"),test:s=>s.map(Ba).every(d=>r.test(d))}),enumName:P.Z_().nullable()};return P.Ry(i)},float(e,t){const r={name:x.name(e,t),type:x.type(),required:x.required(),default:P.Rx(),max:P.Rx(),min:P.Rx().test(Wa)};return P.Ry(r)},integer(e,t){const r={name:x.name(e,t),type:x.type(),default:P.Rx().integer(),unique:x.unique(),required:x.required(),max:x.max(),min:x.min()};return P.Ry(r)},json(e,t){const r={name:x.name(e,t),type:x.type(),required:x.required(),unique:x.unique()};return P.Ry(r)},media(e,t){const r={name:x.name(e,t),type:x.type(),multiple:P.O7(),required:x.required(),allowedTypes:P.IX().of(P.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return P.Ry(r)},password(e,t){const r={name:x.name(e,t),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength()};return P.Ry(r)},relation(e,t,r,{initialData:i,modifiedData:s}){const d={name:x.name(e,t),target:P.Z_().required(p.translatedErrors.required),relation:P.Z_().required(),type:P.Z_().required(),targetAttribute:P.Vo(()=>{const l=(0,va.Z)(s.relation,s.targetAttribute);if(l==="oneWay"||l==="manyWay")return P.Z_().nullable();let c=P.Z_().test(Na(t)),f=[...r.map(({name:y})=>y),s.name].filter(y=>y!==i.targetAttribute);return c.matches(kr,p.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,m.Z)("error.validation.relation.targetAttribute-taken"),test(y){return y?!f.includes(y):!1}}).required(p.translatedErrors.required)})};return P.Ry(d)},richtext(e,t){const r={name:x.name(e,t),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength()};return P.Ry(r)},string(e,t){const r=Ua(e,t);return P.Ry(r)},text(e,t){const r=Ua(e,t);return P.Ry(r)},uid(e,t){const r=Ua(e,t);return P.Ry(r)}},Ci=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:r=[],pluralNames:i=[],collectionNames:s=[]})=>{const d={displayName:P.Z_().test({name:"nameAlreadyUsed",message:p.translatedErrors.unique,test(l){if(!l)return!1;const c=(0,mt.E)(l);return!e.includes(c)}}).test({name:"nameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(l){return l?!t.includes(l?.trim()?.toLowerCase()):!1}}).required(p.translatedErrors.required),pluralName:P.Z_().test({name:"pluralNameAlreadyUsed",message:p.translatedErrors.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,m.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!r.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,m.Z)("error.contentType.pluralName-used"),test(l,c){return l?c.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(l){return l?!t.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,m.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!s.includes(l?.trim()?.toLowerCase()):!1}}).required(p.translatedErrors.required),singularName:P.Z_().test({name:"singularNameAlreadyUsed",message:p.translatedErrors.unique,test(l){return l?!r.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,m.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,m.Z)("error.contentType.singularName-used"),test(l,c){return l?c.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(l){return l?!t.includes(l?.trim()?.toLowerCase()):!1}}).required(p.translatedErrors.required),draftAndPublish:P.O7(),kind:P.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:P.O7()};return P.Ry(d)},Vr={name:"displayName",type:"text",intlLabel:{id:(0,m.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},Ka={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,m.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,m.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Vr,{description:{id:(0,m.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,m.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,m.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,m.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Vr,{disabled:!0,description:{id:(0,m.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,m.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,m.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,m.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,m.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,m.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,m.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,m.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},_a={advanced:{default(){return{sections:pt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Ia]},...pt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Ia]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,m.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Gr=(e,t)=>{e.forEach(r=>{if(!("sectionTitle"in r)){t[0].items.push(r);return}t.push(r)})},Hr=(e,t)=>e.filter(({name:r})=>r!==t.initialData.name).map(({name:r})=>r),nt={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:r,reservedNames:i,schemaData:s,ctbFormsAPI:d}){const l=Hr(e,s),c=ja[t](l,i.attributes);return d.makeCustomFieldValidator(c,r,l,i.attributes,s)},form:{base({customField:e}){const t=[{sectionTitle:null,items:[Ve]}];return e.options?.base&&Gr(e.options.base,t),{sections:t}},advanced({customField:e,data:t,step:r,extensions:i,...s}){const d=[{sectionTitle:null,items:[]}],l=i.getAdvancedForm(["attribute",e.type],{data:t,type:e.type,step:r,...s});if(e.options?.advanced&&Gr(e.options.advanced,d),l){const c={sectionTitle:{id:(0,m.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};d.push(c)}return{sections:d}}}},attribute:{schema(e,t,r,i,s,d){const l=e?.schema?.attributes??[],c=Hr(l,s);try{let g=ja[t](c,r.attributes,i,s);return d.makeValidator(["attribute",t],g,c,r.attributes,i,s)}catch(g){return console.error("Error yup build schema",g),ja.default(c,r.attributes)}},form:{advanced({data:e,type:t,step:r,extensions:i,...s}){try{const d=zr.advanced[t](e,r).sections,l=i.getAdvancedForm(["attribute",t],{data:e,type:t,step:r,...s});return{sections:d.reduce((g,f)=>(f.sectionTitle===null?g.push(f):g.push({...f,items:[...f.items,...l]}),g),[])}}catch(d){return console.error(d),{sections:[]}}},base({data:e,type:t,step:r,attributes:i}){try{return zr.base[t](e,r,i)}catch{return mi}}}},contentType:{schema(e,t,r,i,s,d){const l=Object.values(d).map(M=>M.schema.singularName),c=Object.values(d).map(M=>M?.schema?.pluralName??""),g=t?e.filter(M=>M!==r):e,f=t?l.filter(M=>{const{schema:I}=d[r];return I.singularName!==M}):l,y=t?c.filter(M=>{const{schema:I}=d[r];return I.pluralName!==M}):c,h=Object.values(d).map(M=>M?.schema?.collectionName??""),L=t?h.filter(M=>{const{schema:I}=d[r],k=I.pluralName,$=I.collectionName;return M!==k||M!==$}):h,O=Ci({usedContentTypeNames:g,reservedModels:i.models,singularNames:f,pluralNames:y,collectionNames:L});return s.makeValidator(["contentType"],O,g,i.models,f,y)},form:{base({actionType:e}){return e==="create"?Ka.base.create():Ka.base.edit()},advanced({extensions:e}){const t=Ka.advanced.default().sections.map(i=>i.items).flat(),r=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...t,...r]}]}}}},component:{schema(e,t,r,i=!1,s=null){const d=i?e.filter(l=>l!==s):e;return fi(d,r.models,t)},form:{advanced(){return{sections:pt.advanced()}},base(){return{sections:pt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return _a.advanced.default()},base({data:e}){return e?.createComponent??!1?_a.base.createComponent():_a.base.default()}}},editCategory:{schema(e,t){const r=e.filter(i=>i!==t.name).map(i=>i.toLowerCase());return pi(r)},form:{advanced:()=>({sections:[]}),base(){return gi.base}}}};var Yr=a(57150),Ti=a(87777);const Mi=()=>e=>e[`${ce.Z}_formModal`]||Ti.E,xi=()=>(0,Yr.P1)(Mi(),e=>e),Ri=(e,t)=>{const r=K()(e,["contentType","schema","kind"],"");return r==="singleType"||r===t.kind?!0:K()(e,["contentType","schema","attributes"],[]).filter(({relation:d,type:l,targetAttribute:c})=>{const g=(0,va.Z)(d,c);return l==="relation"&&!["oneWay","manyWay"].includes(g)}).length===0},Ai=(e="",t,r)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],s=e==="contentType",d=r.includes(t),l=!s&&!d;return s?[[...i,"uid"],["component","dynamiczone"]]:l?[i,["component"]]:[i]},Xr=e=>e.reduce((t,r)=>{const i=r.items.reduce((s,d)=>(d.name&&s.push(d.name),s),[]);return[...t,...i]},[]),Oi=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:r,onNavigateToCreateComponentStep2:i,actionType:s,attributeName:d,attributeType:l,customFieldUid:c,categoryName:g,dynamicZoneTarget:f,forTarget:y,modalType:h,isOpen:L,showBackLink:O,kind:M,step:I,targetUid:k}=(0,tt.Z)(),$=(0,p.useCustomFields)().get(c),N=(0,n.useRef)(),B=(0,n.useMemo)(xi,[]),H=(0,st.I0)(),le=(0,p.useNotification)(),Te=(0,st.v9)(te=>B(te),st.wU),{push:Le}=(0,A.k6)(),{trackUsage:Q}=(0,p.useTracking)(),{formatMessage:Ze}=(0,b.Z)(),{getPlugin:de}=(0,p.useStrapiApp)(),ye=de(ce.Z).apis.forms,he=ye.components.inputs,{addAttribute:Ye,addCustomFieldAttribute:Me,addCreatedComponentToDynamicZone:se,allComponentsCategories:U,changeDynamicZoneComponents:ka,contentTypes:gt,components:Ot,createSchema:ft,deleteCategory:wa,deleteData:tn,editCategory:Va,editCustomFieldAttribute:Ga,submitData:Ha,modifiedData:Re,nestedComponents:Ya,setModifiedData:Xa,sortedContentTypesList:qa,updateSchema:nn,reservedNames:at}=(0,ke.Z)(),{componentToCreate:Zt,formErrors:Xe,initialData:be,isCreatingComponentWhileAddingAField:Pt,modifiedData:v}=Te,W=y==="contentType"||y==="component"?[y]:[y,k];(0,n.useEffect)(()=>{if(L){const te=qa.filter(dr);h==="editCategory"&&Xa(),s==="edit"&&h==="attribute"&&y==="contentType"&&Q("willEditFieldOfContentType");const Ie=[...W,"schema","attributes"],Ue=aa(K()(Re,Ie,[]),f)||null;if(h==="editCategory"&&s==="edit"&&H({type:fe._H,modalType:h,actionType:s,data:{name:g}}),h==="contentType"&&s==="create"&&H({type:fe._H,modalType:h,actionType:s,data:{draftAndPublish:!0},pluginOptions:{}}),h==="contentType"&&s==="edit"){const{displayName:re,draftAndPublish:ve,kind:We,pluginOptions:Oe,pluralName:vl,reviewWorkflows:Cl,singularName:Tl}=K()(Re,[...W,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});H({type:fe._H,actionType:s,modalType:h,data:{displayName:re,draftAndPublish:ve,kind:We,pluginOptions:Oe,pluralName:vl,reviewWorkflows:Cl??!1,singularName:Tl}})}if(h==="component"&&s==="edit"){const re=K()(Re,W,{});H({type:fe._H,actionType:s,modalType:h,data:{displayName:re.schema.displayName,category:re.category,icon:re.schema.icon}})}if(h==="addComponentToDynamicZone"&&s==="edit"){const re={...Ue,components:[],name:f,createComponent:!1,componentToCreate:{type:"component"}};H({type:fe.VZ,attributeToEdit:re})}if(l){const ve={...aa(K()(Re,Ie,[]),d),name:d};l==="component"&&s==="edit"&&(ve.repeatable||or()(ve,"repeatable",!1)),H(h==="customField"?{type:fe.OY,customField:$,isEditing:s==="edit",modifiedDataToSetForEditing:ve,forTarget:y}:{type:fe.S0,attributeType:l,nameToSetForRelation:K()(te,["0","title"],"error"),targetUid:K()(te,["0","uid"],"error"),isEditing:s==="edit",modifiedDataToSetForEditing:ve,step:I,forTarget:y})}}else H({type:fe.c2})},[s,d,l,g,f,y,L,h]);const J=h==="contentType",Ee=h==="component",Ae=h==="attribute",Se=h==="customField",qe=l==="component"&&Ae,it=s==="create",rt=K()(v,"createComponent",!1)||Pt,ht=I==="1",lo=h==="editCategory",co=h==="chooseAttribute",Qa=(0,mt.E)(v.displayName||""),Ja=K()(Re,[...W,"schema","attributes"],null),sl=async()=>{let te;const Ie=rt&&I==="1"?K()(v,"componentToCreate",{}):v;if(J)te=nt.contentType.schema(Object.keys(gt),s==="edit",K()(Re,[...W,"uid"],null),at,ye,gt);else if(Ee)te=nt.component.schema(Object.keys(Ot),v.category||"",at,s==="edit",K()(Re,[...W,"uid"],null),ye);else if(Se)te=nt.customField.schema({schemaAttributes:K()(Re,[...W,"schema","attributes"],[]),attributeType:$.type,reservedNames:at,schemaData:{modifiedData:v,initialData:be},ctbFormsAPI:ye,customFieldValidator:$.options?.validator});else if(qe&&rt&&ht)te=nt.component.schema(Object.keys(Ot),K()(v,"componentToCreate.category",""),at,ye);else if(Ae&&!ht){const Ue=l==="relation"?"relation":v.type;let re=[];if(Ue==="relation"){const ve=K()(v,["target"],null);re=K()(gt,[ve,"schema","attributes"],[]).filter(({name:Oe})=>s!=="edit"?!0:Oe!==be.targetAttribute)}te=nt.attribute.schema(K()(Re,W,{}),Ue,at,re,{modifiedData:v,initialData:be},ye)}else if(lo)te=nt.editCategory.schema(U,be,ye);else if(ht&&rt)te=nt.component.schema(Object.keys(Ot),K()(v,"componentToCreate.category",""),at,ye);else return;await te.validate(Ie,{abortEarly:!1})},uo=(0,n.useCallback)(({target:{name:te,value:Ie,type:Ue,...re}})=>{const ve=["enumName","max","min","maxLength","minLength","regex","default"];let We;ve.includes(te)&&Ie===""?We=null:We=Ie;const Oe=Object.assign({},Xe);te==="max"&&delete Oe.min,te==="maxLength"&&delete Oe.minLength,delete Oe[te],H({type:fe.Ey,errors:Oe}),H({type:fe.P0,keys:te.split("."),value:We,...re})},[H,Xe]),Ne=async(te,Ie=it)=>{te.preventDefault();try{await sl(),dl(Ie);const Ue=y==="components"?k:Qa;if(J)if(it)ft({...v,kind:M},h,Qa),Le({pathname:`/plugins/${ce.Z}/content-types/${Qa}`}),t({forTarget:y,targetUid:Ue});else{Ri(Re,v)?(e(),Ha(v)):le({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(h==="component")if(it){const re=(0,mt.N)(v.displayName,v.category),{category:ve,...We}=v;ft(We,"component",re,ve),Le({pathname:`/plugins/${ce.Z}/component-categories/${ve}/${re}`}),t({forTarget:y,targetUid:re})}else{nn(v,h,k),e();return}else if(lo){if(lr()(be.name)===lr()(v.name)){e();return}Va(be.name,v);return}else if(Se){const re={attributeToSet:{...v,customField:c},forTarget:y,targetUid:k,initialAttribute:be};s==="edit"?Ga(re):Me(re),Ie?t({forTarget:y,targetUid:Ue}):e();return}else if(Ae&&!rt){if(l==="dynamiczone"){Ye(v,y,k,s==="edit",be),it?(H({type:fe.I}),N.current._handlers.setSelectedTabIndex(0),r({dynamicZoneTarget:v.name})):e();return}if(!qe){Ye(v,y,k,s==="edit",be),Ie?t({forTarget:y,targetUid:Ue}):e();return}if(ht){i(),H({type:fe.yC,forTarget:y});return}Ye(v,y,k,s==="edit",be,!0),Ie?t({forTarget:y,targetUid:k}):e()}else if(Ae&&rt){if(ht){Q("willCreateComponentFromAttributesModal"),H({type:fe.oF,forTarget:y}),i();return}const{category:re,type:ve,...We}=Zt,Oe=(0,mt.N)(Zt.displayName,re);ft(We,ve,Oe,re,rt),Ye(v,y,k,!1),H({type:fe.c2}),Ie?t({forTarget:"components",targetUid:Oe}):e();return}else{if(ht)if(rt){const{category:re,type:ve,...We}=v.componentToCreate,Oe=(0,mt.N)(v.componentToCreate.displayName,re);ft(We,ve,Oe,re,rt),se(f,[Oe]),t({forTarget:"components",targetUid:Oe})}else ka(f,v.components),e();else console.error("This case is not handled");return}H({type:fe.c2})}catch(Ue){const re=(0,p.getYupInnerErrors)(Ue);console.log({err:Ue,errors:re}),H({type:fe.Ey,errors:re})}},il=()=>{window.confirm(Ze({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),H({type:fe.c2}))},mo=()=>{Mt()(v,be)?(e(),H({type:fe.c2})):il()},ll=te=>{if(te==="advanced"){if(J){Q("didSelectContentTypeSettings");return}y==="contentType"&&Q("didSelectContentTypeFieldSettings")}},dl=te=>{h==="attribute"&&y==="contentType"&&l!=="dynamiczone"&&te&&Q("willAddMoreFieldToContentType")},cl=()=>!!(h==="editCategory"||h==="component"||Do()(v,"createComponent")),ul=Ai(y,k,Ya);if(!L||!h)return null;const po=K()(nt,[h,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),ml=y==="components"||y==="component",go={customInputs:{"allowed-types-select":So,"boolean-radio-group":Yo,"checkbox-with-number-field":qo,"icon-picker":gs,"content-type-radio-group":Qo,"radio-group":ca,relation:ti,"select-category":ri,"select-component":oi,"select-components":si,"select-default-boolean":Go,"select-number":li,"select-date":ii,"toggle-draft-publish":Jo,"text-plural":hs,"text-singular":di,"textarea-enum":ui,...he},componentToCreate:Zt,dynamicZoneTarget:f,formErrors:Xe,isAddingAComponentToAnotherComponent:ml,isCreatingComponentWhileAddingAField:Pt,mainBoxHeader:K()(Re,[...W,"schema","displayName"],""),modifiedData:v,naturePickerType:y,isCreating:it,targetUid:k,forTarget:y},fo=po.advanced({data:v,type:l,step:I,actionType:s,attributes:Ja,extensions:ye,forTarget:y,contentTypeSchema:Re.contentType||{},customField:$}).sections,ho=po.base({data:v,type:l,step:I,actionType:s,attributes:Ja,extensions:ye,forTarget:y,contentTypeSchema:Re.contentType||{},customField:$}).sections,pl=Xr(ho),gl=Xr(fo),fl=Object.keys(Xe).some(te=>pl.includes(te)),hl=Object.keys(Xe).some(te=>gl.includes(te)),yl=K()(gt,[k,"schema","kind"]),El=()=>s==="edit"&&Ja.every(({name:te})=>te!==v?.name),bl=()=>{El()&&Q("didEditFieldNameOnContentType")};return n.createElement(Oo.P,{onClose:mo,labelledBy:"title"},n.createElement(as,{actionType:s,attributeName:d,categoryName:g,contentTypeKind:M,dynamicZoneTarget:f,modalType:h,forTarget:y,targetUid:k,attributeType:l,customFieldUid:c,showBackLink:O}),co&&n.createElement(Vo,{attributes:ul,forTarget:y,kind:yl||"collectionType"}),!co&&n.createElement("form",{onSubmit:Ne},n.createElement(sr.f,null,n.createElement(ir.v,{label:"todo",id:"tabs",variant:"simple",ref:N,onTabChange:te=>{te===1&&ll("advanced")}},n.createElement(ae.k,{justifyContent:"space-between"},n.createElement(os,{actionType:s,forTarget:y,kind:M,step:I,modalType:h,attributeType:l,attributeName:d,customField:$}),n.createElement(ct.m,null,n.createElement(ct.O,{hasError:fl},Ze({id:(0,m.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),n.createElement(ct.O,{hasError:hl,disabled:cl()},Ze({id:(0,m.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),n.createElement(na.i,null),n.createElement(C.x,{paddingTop:6},n.createElement(ut.n,null,n.createElement(ut.x,null,n.createElement(ae.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Kr,{form:ho,formErrors:Xe,genericInputProps:go,modifiedData:v,onChange:uo}))),n.createElement(ut.x,null,n.createElement(ae.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Kr,{form:fo,formErrors:Xe,genericInputProps:go,modifiedData:v,onChange:uo}))))))),n.createElement(Zo.m,{endActions:n.createElement(es,{deleteCategory:wa,deleteContentType:tn,deleteComponent:tn,categoryName:be.name,isAttributeModal:h==="attribute",isCustomFieldModal:h==="customField",isComponentToDzModal:h==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:h==="component",isContentTypeModal:h==="contentType",isCreatingComponent:s==="create",isCreatingDz:s==="create",isCreatingComponentAttribute:v.createComponent||!1,isCreatingComponentInDz:v.createComponent||!1,isCreatingComponentWhileAddingAField:Pt,isCreatingContentType:s==="create",isEditingAttribute:s==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:h==="editCategory",isInFirstComponentStep:I==="1",onSubmitAddComponentAttribute:Ne,onSubmitAddComponentToDz:Ne,onSubmitCreateComponent:Ne,onSubmitCreateContentType:Ne,onSubmitCreateDz:Ne,onSubmitEditAttribute:Ne,onSubmitEditCategory:Ne,onSubmitEditComponent:Ne,onSubmitEditContentType:Ne,onSubmitEditCustomFieldAttribute:Ne,onSubmitEditDz:Ne,onClickFinish:bl}),startActions:n.createElement(ge.z,{variant:"tertiary",onClick:mo},Ze({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))};var Ce=a(97699),Zi=a(21957);const Pi=()=>e=>e[`${ce.Z}_dataManagerProvider`]||Zi.E,Di=()=>(0,Yr.P1)(Pi(),e=>e);var Li=a(49204),$i=a.n(Li),Si=a(74919),qr=a.n(Si),Ii=a(8243),Bi=a.n(Ii);const Fi=(e,t)=>{const r=Object.keys(e).filter(i=>{const s=K()(e,i,{}),d=K()(t,i,{}),l=K()(s,["isTemporary"],!1),c=!Mt()(s,d);return l||c});return(0,dt.Z)(r)},Ni=(e,t)=>{const r=Jr(K()(e,"schema.attributes",[]),t),i=K()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},qr()(e.schema,"attributes"),{attributes:r})},Qr=(e,t=!1)=>{const r=K()(e,"uid",null),i=Jr(K()(e,"schema.attributes",[]),r),s=t?{category:K()(e,"category","")}:{},d=Object.assign(s,qr()(e.schema,"attributes"),{attributes:i});return delete d.uid,delete d.isTemporary,delete d.visible,delete d.restrictRelationsTo,d},Jr=(e,t)=>e.reduce((r,{name:i,...s})=>{const d=s,l=d.target===t,c=d.type==="relation",g=K()(d,"targetAttribute",null);if(!l)if(c){const f=Object.assign({},d,{targetAttribute:eo(g)});r[i]=en(f)}else r[i]=en(d);if(l){const f=d.target,y=Object.assign({},d,{target:f,targetAttribute:eo(g)});r[i]=en(y)}if(d.customField){const f={...d,type:"customField"};r[i]=en(f)}return r},{}),eo=e=>e==="-"?null:e,en=e=>Object.keys(e).reduce((t,r)=>(e[r]!==null&&r!=="plugin"&&(t[r]=e[r]),t),{}),Ui=(e,t,r,i=!1)=>Fi(e,t).map(l=>{const c=K()(e,l,{});return Ni(c,r,i)}),Wi=e=>Bi()(Object.keys(e).map(t=>({visible:e[t].schema.visible,name:t,title:e[t].schema.displayName,plugin:e[t].plugin||null,uid:t,to:`/plugins/${ce.Z}/content-types/${t}`,kind:e[t].schema.kind,restrictRelationsTo:e[t].schema.restrictRelationsTo})).filter(t=>t!==null),t=>$i()(t.title)),to=e=>e.reduce((t,r)=>(t[r.uid]=r,t),{}),ji=(e,t,r,i)=>{const s=t.reduce((c,g)=>{const f=K()(r,g,{});return c[g]=f,c},{});return{[i?"contentType":"component"]:e,components:s}},Ki=e=>Object.keys(e).reduce((t,r)=>{const i=e[r].schema;return t[r]={...e[r],schema:{...i,attributes:_i(i.attributes)}},t},{}),_i=e=>Object.keys(e).reduce((t,r)=>(t.push({...e[r],name:r}),t),[]),no=Ki;var zi=a(26223);const ki=e=>{const t=Object.keys(e).reduce((r,i)=>{const s=K()(e,[i],{}),d=s.uid;return wi(s)&&r.push(d),r},[]);return(0,dt.Z)(t)},wi=e=>K()(e,["schema","attributes"],[]).some(r=>{const{type:i}=r;return i==="component"}),Vi=e=>{const t=Object.keys(e).reduce((r,i)=>{const s=e?.[i]?.schema?.attributes??[],d=Gi(s);return[...r,...d]},[]);return(0,dt.Z)(t)},Gi=e=>e.reduce((t,r)=>{const{type:i,component:s}=r;return i==="component"&&t.push(s),t},[]),ao=Vi,Hi=(e,t)=>{const r=Object.keys(e).map(i=>K()(e,[i,...t],""));return(0,dt.Z)(r)},ro="did-not-kill-server",Yi="server is down";function At(e,t){return new Promise(r=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(Yi);if(!t)throw new Error(ro);r(e)}).catch(i=>{setTimeout(()=>At(e,i.message!==ro).then(r),100)})})}const Xi=e=>Object.values(e.attributes).filter(({type:r})=>r==="dynamiczone").every(({components:r})=>Array.isArray(r)&&r.length>0),za=({children:e,components:t,contentTypes:r,isLoading:i,isLoadingForDataToBeSet:s,initialData:d,modifiedData:l,reservedNames:c})=>{const g=(0,st.I0)(),f=(0,p.useNotification)(),{lockAppWithAutoreload:y,unlockAppWithAutoreload:h}=(0,p.useAutoReloadOverlayBlocker)(),{setCurrentStep:L}=(0,p.useGuidedTour)(),{getPlugin:O}=(0,p.useStrapiApp)(),{apis:M}=O(ce.Z),{autoReload:I}=(0,p.useAppInfo)(),{formatMessage:k}=(0,b.Z)(),{trackUsage:$}=(0,p.useTracking)(),{refetchPermissions:N}=(0,p.useRBACProvider)(),{pathname:B}=(0,A.TH)(),{onCloseModal:H}=(0,tt.Z)(),le=(0,A.$B)(`/plugins/${ce.Z}/content-types/:uid`),Te=(0,A.$B)(`/plugins/${ce.Z}/component-categories/:categoryUid/:componentUid`),Le=(0,p.useFetchClient)(),{put:Q,post:Ze,del:de}=Le,$e=(0,n.useRef)();$e.current=k;const ye=I,he=le!==null,Ye=he?"contentType":"component",Me=he?K()(le,"params.uid",null):K()(Te,"params.componentUid",null),se=(0,n.useRef)(),U=he?"content-types":"components";se.current=async()=>{try{const[{data:{data:v}},{data:{data:W}},{data:J}]=await Promise.all(["components","content-types","reserved-names"].map(it=>Le.get(`/${ce.Z}/${it}`))),Ee=to(v),Ae=no(Ee),Se=to(W),qe=no(Se);g({type:Ce.Id,components:Ae,contentTypes:qe,reservedNames:J})}catch(v){console.error({err:v}),f({type:"warning",message:{id:"notification.error"}})}},(0,n.useEffect)(()=>(se.current(),()=>{g({type:Ce.Zl})}),[]),(0,n.useEffect)(()=>{!i&&Me&&nn()},[i,B,Me]),(0,n.useEffect)(()=>{I||f({type:"info",message:{id:(0,m.Z)("notification.info.autoreaload-disable")}})},[I,f]);const ka=(v,W,J,Ee=!1,Ae,Se=!1)=>{const qe=Ee?Ce.JO:Ce.gz;g({type:qe,attributeToSet:v,forTarget:W,targetUid:J,initialAttribute:Ae,shouldAddComponentToData:Se})},gt=({attributeToSet:v,forTarget:W,targetUid:J,initialAttribute:Ee})=>{g({type:Ce.Ir,attributeToSet:v,forTarget:W,targetUid:J,initialAttribute:Ee})},Ot=({attributeToSet:v,forTarget:W,targetUid:J,initialAttribute:Ee})=>{g({type:Ce.Ly,attributeToSet:v,forTarget:W,targetUid:J,initialAttribute:Ee})},ft=(v,W)=>{g({type:Ce.Uu,dynamicZoneTarget:v,componentsToAdd:W})},wa=(v,W,J,Ee,Ae=!1)=>{const Se=W==="contentType"?Ce.Sh:Ce.VR;g({type:Se,data:v,componentCategory:Ee,schemaType:W,uid:J,shouldAddComponentToData:Ae})},tn=(v,W)=>{g({type:Ce.o_,dynamicZoneTarget:v,newComponents:W})},Va=(v,W,J="")=>{const Ee=v==="components"?Ce.lw:Ce.ai;v==="contentType"&&$("willDeleteFieldOfContentType"),g({type:Ee,mainDataKey:v,attributeToRemoveName:W,componentUid:J})},Ga=async v=>{try{const W=`/${ce.Z}/component-categories/${v}`,J=window.confirm(k({id:(0,m.Z)("popUpWarning.bodyMessage.category.delete")}));H(),J&&(y(),await de(W),await At(!0),await h(),await be())}catch(W){console.error({err:W}),f({type:"warning",message:{id:"notification.error"}})}finally{h()}},Ha=async()=>{try{const v=`/${ce.Z}/${U}/${Me}`,W=K()(l,[Ye,"isTemporary"],!1),J=window.confirm(k({id:(0,m.Z)(`popUpWarning.bodyMessage.${he?"contentType":"component"}.delete`)}));if(H(),J){if(W){g({type:Ce.Ap});return}y(),await de(v),await At(!0),await h(),await be()}}catch(v){console.error({err:v}),f({type:"warning",message:{id:"notification.error"}})}finally{h()}},Re=async(v,W)=>{try{const J=`/${ce.Z}/component-categories/${v}`;H(),y(),await Q(J,W),await At(!0),await h(),await be()}catch(J){console.error({err:J}),f({type:"warning",message:{id:"notification.error"}})}finally{h()}},Ya=()=>{const v=Object.assign({},t,l.components);if(!he){const J=K()(l,"component",{});or()(v,K()(J,["uid"],""),J)}const W=ki(v);return(0,dt.Z)(W)},Xa=()=>{const v=ao(t),W=ao(l.components||{});return(0,dt.Z)([...W,...v])},qa=(v,W)=>{g({type:Ce.NG,dzName:v,componentToRemoveIndex:W})},nn=()=>{const v=he?r:t,W=K()(v,Me,{schema:{attributes:[]}}),J=(0,zi.Z)(W.schema.attributes,t),Ee=ji(W,J,t,he),Ae=K()(W,"isTemporary",!1)&&Mo()(K()(W,"schema.attributes",[]))===0;g({type:Ce.xx,schemaToSet:Ee,hasJustCreatedSchema:Ae})},at=(0,n.useMemo)(()=>{const v=he?r:t;return Me==="create-content-type"?!1:!Object.keys(v).includes(Me)&&!i},[t,r,Me,he,i]),Zt=(0,n.useMemo)(()=>{const v=Object.keys(r).filter(W=>K()(r,[W,"schema","visible"],!0)).sort();return K()(v,"0","create-content-type")},[r]);if(at)return n.createElement(A.l_,{to:`/plugins/${ce.Z}/content-types/${Zt}`});const Xe=async v=>{try{const W=K()(l,[Ye,"isTemporary"],!1),J={components:Ui(l.components,t,Me,W)};if(he){const Se=M.forms.mutateContentTypeSchema({...Qr(l.contentType),...v},d.contentType);if(!Xi(Se)){f({type:"warning",message:{id:(0,m.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}J.contentType=Se,$("willSaveContentType")}else J.component=Qr(l.component,!0),$("willSaveComponent");y();const Ee=`/${ce.Z}/${U}`,Ae=W?Ee:`${Ee}/${Me}`;if(W?await Ze(Ae,J):await Q(Ae,J),await At(!0),await h(),W&&(d.contentType?.schema.kind==="collectionType"||d.contentType?.schema.kind==="singleType")&&L("contentTypeBuilder.success"),he){$("didSaveContentType");const Se=K()(J,["contentType","schema","name"],""),qe=K()(d,["contentType","schema","name"],"");!W&&Se!==qe&&$("didEditNameOfContentType")}else $("didSaveComponent");await be()}catch(W){he||$("didNotSaveComponent"),console.error({err:W.response}),f({type:"warning",message:{id:"notification.error"}})}finally{h()}},be=async()=>{await N()},Pt=(v,W,J)=>{g({type:Ce.bi,data:v,schemaType:W,uid:J})};return n.createElement(Ao.Z.Provider,{value:{addAttribute:ka,addCustomFieldAttribute:gt,addCreatedComponentToDynamicZone:ft,allComponentsCategories:Hi(t,["category"]),changeDynamicZoneComponents:tn,components:t,componentsGroupedByCategory:vo()(t,"category"),componentsThatHaveOtherComponentInTheirAttributes:Ya(),contentTypes:r,createSchema:wa,deleteCategory:Ga,deleteData:Ha,editCategory:Re,editCustomFieldAttribute:Ot,isInDevelopmentMode:ye,initialData:d,isInContentTypeView:he,modifiedData:l,nestedComponents:Xa(),removeAttribute:Va,removeComponentFromDynamicZone:qa,reservedNames:c,setModifiedData:nn,sortedContentTypesList:Wi(r),submitData:Xe,updateSchema:Pt}},s?n.createElement(p.LoadingIndicatorPage,null):n.createElement(n.Fragment,null,e,ye&&n.createElement(Oi,null)))};za.defaultProps={components:{}},za.propTypes={children:o().node.isRequired,components:o().object,contentTypes:o().object.isRequired,isLoading:o().bool.isRequired,isLoadingForDataToBeSet:o().bool.isRequired,initialData:o().object.isRequired,modifiedData:o().object.isRequired,reservedNames:o().object.isRequired};const qi=Di(),Qi=(0,st.$j)(qi,null),Ji=(0,Ro.compose)(Qi)((0,n.memo)(za));var el=a(6356);const oo={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},so=({children:e})=>{const[t,r]=(0,n.useState)(oo),{trackUsage:i}=(0,p.useTracking)(),s=({attributeType:$,customFieldUid:N})=>{r(B=>({...B,actionType:"create",modalType:"customField",attributeType:$,customFieldUid:N}))},d=({attributeType:$,step:N})=>{t.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:$}),r(B=>({...B,actionType:"create",modalType:"attribute",step:N,attributeType:$,showBackLink:!0}))},l=({dynamicZoneTarget:$,targetUid:N})=>{r(B=>({...B,dynamicZoneTarget:$,targetUid:N,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:$,targetUid:N})=>{r(B=>({...B,actionType:"create",forTarget:$,targetUid:N,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},g=$=>{r(N=>({...N,...$,isOpen:!0}))},f=$=>{r(N=>({...N,categoryName:$,actionType:"edit",modalType:"editCategory",isOpen:!0}))},y=({forTarget:$,targetUid:N,attributeName:B,attributeType:H,customFieldUid:le})=>{r(Te=>({...Te,modalType:"customField",customFieldUid:le,actionType:"edit",forTarget:$,targetUid:N,attributeName:B,attributeType:H,isOpen:!0}))},h=({forTarget:$,targetUid:N,attributeName:B,attributeType:H,step:le})=>{r(Te=>({...Te,modalType:"attribute",actionType:"edit",forTarget:$,targetUid:N,attributeName:B,attributeType:H,step:le,isOpen:!0}))},L=({modalType:$,forTarget:N,targetUid:B,kind:H})=>{r(le=>({...le,modalType:$,actionType:"edit",forTarget:N,targetUid:B,kind:H,isOpen:!0}))},O=()=>{r(oo)},M=({forTarget:$,targetUid:N})=>{r(B=>({...B,forTarget:$,targetUid:N,modalType:"chooseAttribute"}))},I=()=>{r($=>({...$,attributeType:"component",modalType:"attribute",step:"2"}))},k=({dynamicZoneTarget:$})=>{r(N=>({...N,dynamicZoneTarget:$,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return n.createElement(el.Z.Provider,{value:{...t,onClickSelectField:d,onClickSelectCustomField:s,onCloseModal:O,onNavigateToChooseAttributeModal:M,onNavigateToAddCompoToDZModal:k,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:I,onOpenModalAddField:c,onOpenModalCreateSchema:g,onOpenModalEditCategory:f,onOpenModalEditField:h,onOpenModalEditCustomField:y,onOpenModalEditSchema:L,setFormModalNavigationState:r}},e)};so.propTypes={children:o().node.isRequired};const tl=so;var nl=a(5391);const al=(0,n.lazy)(()=>a.e(5905).then(a.bind(a,3500))),rl=()=>{const{url:e}=(0,A.$B)(),{categoryUid:t}=(0,A.UO)();return n.createElement(n.Suspense,{fallback:n.createElement(p.LoadingIndicatorPage,null)},n.createElement(A.rs,null,n.createElement(A.AW,{path:`${e}/:componentUid`},n.createElement(al,{categoryId:t}))))},io=(0,n.lazy)(()=>a.e(5905).then(a.bind(a,3500))),ol=()=>{const{formatMessage:e}=(0,b.Z)(),t=e({id:`${ce.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:r}=(0,p.useGuidedTour)(),i=(0,n.useRef)(r);return(0,n.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),n.createElement(p.CheckPagePermissions,{permissions:nl._.main},n.createElement(T.q,{title:t}),n.createElement(tl,null,n.createElement(Ji,null,n.createElement(R.A,{sideNav:n.createElement(yo,null)},n.createElement(n.Suspense,{fallback:n.createElement(p.LoadingIndicatorPage,null)},n.createElement(A.rs,null,n.createElement(A.AW,{path:`/plugins/${ce.Z}/content-types/create-content-type`,component:io}),n.createElement(A.AW,{path:`/plugins/${ce.Z}/content-types/:uid`,component:io}),n.createElement(A.AW,{path:`/plugins/${ce.Z}/component-categories/:categoryUid`,component:rl})))))))}},90635:(Z,F,a)=>{"use strict";a.d(F,{Z:()=>p});var n=a(72966);const p=T=>`${n.Z}.${T}`},29520:Z=>{function F(a,n,R,p){for(var T=-1,b=a==null?0:a.length;++T<b;){var A=a[T];n(p,A,R(A),a)}return p}Z.exports=F},67083:(Z,F,a)=>{var n=a(62878);function R(p,T){var b=p==null?0:p.length;return!!b&&n(p,T,0)>-1}Z.exports=R},65286:Z=>{function F(a,n,R){for(var p=-1,T=a==null?0:a.length;++p<T;)if(R(n,a[p]))return!0;return!1}Z.exports=F},83377:(Z,F,a)=>{var n=a(54483),R=n("length");Z.exports=R},98694:(Z,F,a)=>{var n=a(1107);function R(p,T,b,A){return n(p,function(C,Y,V){T(A,C,b(C),V)}),A}Z.exports=R},1107:(Z,F,a)=>{var n=a(84856),R=a(52593),p=R(n);Z.exports=p},32652:Z=>{function F(a,n,R,p){for(var T=a.length,b=R+(p?1:-1);p?b--:++b<T;)if(n(a[b],b,a))return b;return-1}Z.exports=F},62878:(Z,F,a)=>{var n=a(32652),R=a(2784),p=a(51425);function T(b,A,C){return A===A?p(b,A,C):n(b,R,C)}Z.exports=T},2784:Z=>{function F(a){return a!==a}Z.exports=F},22107:(Z,F,a)=>{var n=a(13578),R=a(27138),p="[object RegExp]";function T(b){return R(b)&&n(b)==p}Z.exports=T},78731:(Z,F,a)=>{var n=a(1107),R=a(47727);function p(T,b){var A=-1,C=R(T)?Array(T.length):[];return n(T,function(Y,V,u){C[++A]=b(Y,V,u)}),C}Z.exports=p},16429:(Z,F,a)=>{var n=a(36393),R=a(82393),p=a(90040),T=a(78731),b=a(63135),A=a(20435),C=a(9998),Y=a(51339),V=a(26126);function u(E,D,z){D.length?D=n(D,function(G){return V(G)?function(S){return R(S,G.length===1?G[0]:G)}:G}):D=[Y];var w=-1;D=n(D,A(p));var _=T(E,function(G,S,X){var q=n(D,function(ee){return ee(G)});return{criteria:q,index:++w,value:G}});return b(_,function(G,S){return C(G,S,z)})}Z.exports=u},63135:Z=>{function F(a,n){var R=a.length;for(a.sort(n);R--;)a[R]=a[R].value;return a}Z.exports=F},21157:(Z,F,a)=>{var n=a(44936),R=a(67083),p=a(65286),T=a(42435),b=a(83661),A=a(1695),C=200;function Y(V,u,E){var D=-1,z=R,w=V.length,_=!0,G=[],S=G;if(E)_=!1,z=p;else if(w>=C){var X=u?null:b(V);if(X)return A(X);_=!1,z=T,S=new n}else S=u?[]:G;e:for(;++D<w;){var q=V[D],ee=u?u(q):q;if(q=E||q!==0?q:0,_&&ee===ee){for(var ne=S.length;ne--;)if(S[ne]===ee)continue e;u&&S.push(ee),G.push(q)}else z(S,ee,E)||(S!==G&&S.push(ee),G.push(q))}return G}Z.exports=Y},17654:(Z,F,a)=>{var n=a(85194);function R(p,T){if(p!==T){var b=p!==void 0,A=p===null,C=p===p,Y=n(p),V=T!==void 0,u=T===null,E=T===T,D=n(T);if(!u&&!D&&!Y&&p>T||Y&&V&&E&&!u&&!D||A&&V&&E||!b&&E||!C)return 1;if(!A&&!Y&&!D&&p<T||D&&b&&C&&!A&&!Y||u&&b&&C||!V&&C||!E)return-1}return 0}Z.exports=R},9998:(Z,F,a)=>{var n=a(17654);function R(p,T,b){for(var A=-1,C=p.criteria,Y=T.criteria,V=C.length,u=b.length;++A<V;){var E=n(C[A],Y[A]);if(E){if(A>=u)return E;var D=b[A];return E*(D=="desc"?-1:1)}}return p.index-T.index}Z.exports=R},37177:(Z,F,a)=>{var n=a(29520),R=a(98694),p=a(90040),T=a(26126);function b(A,C){return function(Y,V){var u=T(Y)?n:R,E=C?C():{};return u(Y,A,p(V,2),E)}}Z.exports=b},52593:(Z,F,a)=>{var n=a(47727);function R(p,T){return function(b,A){if(b==null)return b;if(!n(b))return p(b,A);for(var C=b.length,Y=T?C:-1,V=Object(b);(T?Y--:++Y<C)&&A(V[Y],Y,V)!==!1;);return b}}Z.exports=R},83661:(Z,F,a)=>{var n=a(31497),R=a(18920),p=a(1695),T=1/0,b=n&&1/p(new n([,-0]))[1]==T?function(A){return new n(A)}:R;Z.exports=b},51425:Z=>{function F(a,n,R){for(var p=R-1,T=a.length;++p<T;)if(a[p]===n)return p;return-1}Z.exports=F},30930:(Z,F,a)=>{var n=a(83377),R=a(11993),p=a(61781);function T(b){return R(b)?p(b):n(b)}Z.exports=T},61781:Z=>{var F="\\ud800-\\udfff",a="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",R="\\u20d0-\\u20ff",p=a+n+R,T="\\ufe0e\\ufe0f",b="["+F+"]",A="["+p+"]",C="\\ud83c[\\udffb-\\udfff]",Y="(?:"+A+"|"+C+")",V="[^"+F+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",E="[\\ud800-\\udbff][\\udc00-\\udfff]",D="\\u200d",z=Y+"?",w="["+T+"]?",_="(?:"+D+"(?:"+[V,u,E].join("|")+")"+w+z+")*",G=w+z+_,S="(?:"+[V+A+"?",A,u,E,b].join("|")+")",X=RegExp(C+"(?="+C+")|"+S+G,"g");function q(ee){for(var ne=X.lastIndex=0;X.test(ee);)++ne;return ne}Z.exports=q},63799:(Z,F,a)=>{var n=a(71041),R=a(37177),p=Object.prototype,T=p.hasOwnProperty,b=R(function(A,C,Y){T.call(A,Y)?A[Y].push(C):n(A,Y,[C])});Z.exports=b},50156:(Z,F,a)=>{var n=a(22107),R=a(20435),p=a(25336),T=p&&p.isRegExp,b=T?R(T):n;Z.exports=b},63514:(Z,F,a)=>{var n=a(13578),R=a(26126),p=a(27138),T="[object String]";function b(A){return typeof A=="string"||!R(A)&&p(A)&&n(A)==T}Z.exports=b},18920:Z=>{function F(){}Z.exports=F},84921:(Z,F,a)=>{var n=a(52695),R=a(4500),p=a(47727),T=a(63514),b=a(30930),A="[object Map]",C="[object Set]";function Y(V){if(V==null)return 0;if(p(V))return T(V)?b(V):V.length;var u=R(V);return u==A||u==C?V.size:n(V).length}Z.exports=Y},8243:(Z,F,a)=>{var n=a(93367),R=a(16429),p=a(52431),T=a(65145),b=p(function(A,C){if(A==null)return[];var Y=C.length;return Y>1&&T(A,C[0],C[1])?C=[]:Y>2&&T(C[0],C[1],C[2])&&(C=[C[0]]),R(A,n(C,1),[])});Z.exports=b},79146:(Z,F,a)=>{var n=a(16946);function R(p){return n(p).toLowerCase()}Z.exports=R},85100:(Z,F,a)=>{var n=a(63546),R=a(82311),p=a(11993),T=a(3243),b=a(50156),A=a(30930),C=a(66734),Y=a(69740),V=a(16946),u=30,E="...",D=/\w*$/;function z(w,_){var G=u,S=E;if(T(_)){var X="separator"in _?_.separator:X;G="length"in _?Y(_.length):G,S="omission"in _?n(_.omission):S}w=V(w);var q=w.length;if(p(w)){var ee=C(w);q=ee.length}if(G>=q)return w;var ne=G-A(S);if(ne<1)return S;var ie=ee?R(ee,0,ne).join(""):w.slice(0,ne);if(X===void 0)return ie+S;if(ee&&(ne+=ie.length-ne),b(X)){if(w.slice(ne).search(X)){var ue,Be=ie;for(X.global||(X=RegExp(X.source,V(D.exec(X))+"g")),X.lastIndex=0;ue=X.exec(Be);)var xe=ue.index;ie=ie.slice(0,xe===void 0?ne:xe)}}else if(w.indexOf(n(X),ne)!=ne){var Fe=ie.lastIndexOf(X);Fe>-1&&(ie=ie.slice(0,Fe))}return ie+S}Z.exports=z},81465:(Z,F,a)=>{var n=a(21157);function R(p){return p&&p.length?n(p):[]}Z.exports=R},57150:(Z,F,a)=>{"use strict";a.d(F,{P1:()=>V});var n="NOT_FOUND";function R(E){var D;return{get:function(w){return D&&E(D.key,w)?D.value:n},put:function(w,_){D={key:w,value:_}},getEntries:function(){return D?[D]:[]},clear:function(){D=void 0}}}function p(E,D){var z=[];function w(X){var q=z.findIndex(function(ne){return D(X,ne.key)});if(q>-1){var ee=z[q];return q>0&&(z.splice(q,1),z.unshift(ee)),ee.value}return n}function _(X,q){w(X)===n&&(z.unshift({key:X,value:q}),z.length>E&&z.pop())}function G(){return z}function S(){z=[]}return{get:w,put:_,getEntries:G,clear:S}}var T=function(D,z){return D===z};function b(E){return function(z,w){if(z===null||w===null||z.length!==w.length)return!1;for(var _=z.length,G=0;G<_;G++)if(!E(z[G],w[G]))return!1;return!0}}function A(E,D){var z=typeof D=="object"?D:{equalityCheck:D},w=z.equalityCheck,_=w===void 0?T:w,G=z.maxSize,S=G===void 0?1:G,X=z.resultEqualityCheck,q=b(_),ee=S===1?R(q):p(S,q);function ne(){var ie=ee.get(arguments);if(ie===n){if(ie=E.apply(null,arguments),X){var ue=ee.getEntries(),Be=ue.find(function(xe){return X(xe.value,ie)});Be&&(ie=Be.value)}ee.put(arguments,ie)}return ie}return ne.clearCache=function(){return ee.clear()},ne}function C(E){var D=Array.isArray(E[0])?E[0]:E;if(!D.every(function(w){return typeof w=="function"})){var z=D.map(function(w){return typeof w=="function"?"function "+(w.name||"unnamed")+"()":typeof w}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+z+"]")}return D}function Y(E){for(var D=arguments.length,z=new Array(D>1?D-1:0),w=1;w<D;w++)z[w-1]=arguments[w];var _=function(){for(var S=arguments.length,X=new Array(S),q=0;q<S;q++)X[q]=arguments[q];var ee=0,ne,ie={memoizeOptions:void 0},ue=X.pop();if(typeof ue=="object"&&(ie=ue,ue=X.pop()),typeof ue!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof ue+"]");var Be=ie,xe=Be.memoizeOptions,Fe=xe===void 0?z:xe,Pe=Array.isArray(Fe)?Fe:[Fe],_e=C(X),Qe=E.apply(void 0,[function(){return ee++,ue.apply(null,arguments)}].concat(Pe)),Je=E(function(){for(var Ge=[],yt=_e.length,et=0;et<yt;et++)Ge.push(_e[et].apply(null,arguments));return ne=Qe.apply(null,Ge),ne});return Object.assign(Je,{resultFunc:ue,memoizedResultFunc:Qe,dependencies:_e,lastResult:function(){return ne},recomputations:function(){return ee},resetRecomputations:function(){return ee=0}}),Je};return _}var V=Y(A),u=function(D,z){if(z===void 0&&(z=V),typeof D!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof D));var w=Object.keys(D),_=z(w.map(function(G){return D[G]}),function(){for(var G=arguments.length,S=new Array(G),X=0;X<G;X++)S[X]=arguments[X];return S.reduce(function(q,ee,ne){return q[w[ne]]=ee,q},{})});return _}}}]);
