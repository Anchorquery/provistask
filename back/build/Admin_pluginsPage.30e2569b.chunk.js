"use strict";(self.webpackChunkserver_provitask=self.webpackChunkserver_provitask||[]).push([[3677],{4186:(S,g,t)=>{t.r(g),t.d(g,{default:()=>x});var e=t(27279),n=t(61166),P=t(364),d=t(26781),h=t(49402),p=t(36364),y=t(86042),c=t(1296),m=t(796),T=t(34041),C=t(49969),M=t(92712),L=t(7609),v=t(66016),s=t(9465),o=t(35557),I=t(84428),Z=t(40464);const N=l=>{const a=(0,n.useNotification)(),{get:r}=(0,n.useFetchClient)();return(0,Z.useQuery)(["plugins"],async()=>{const{data:i}=await r("/admin/plugins");return i},{onSuccess(){l&&l()},onError(){a({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})},A=()=>{const{formatMessage:l}=(0,d.Z)(),{notifyStatus:a}=(0,y.G)();(0,n.useFocusWhenNavigate)();const r=l({id:"global.plugins",defaultMessage:"Plugins"}),i=()=>{a(l({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:r}))},{status:f,data:E}=N(i);return f!=="success"&&f!=="error"?e.createElement(c.A,null,e.createElement(m.o,{"aria-busy":!0},e.createElement(n.LoadingIndicatorPage,null))):e.createElement(c.A,null,e.createElement(m.o,null,e.createElement(T.T,{title:r,subtitle:l({id:"app.components.ListPluginsPage.description",defaultMessage:"List of the installed plugins in the project."})}),e.createElement(C.D,null,e.createElement(M.i,{colCount:2,rowCount:E?.plugins?.length??0+1},e.createElement(L.h,null,e.createElement(v.Tr,null,e.createElement(s.Th,null,e.createElement(o.Z,{variant:"sigma",textColor:"neutral600"},l({id:"global.name",defaultMessage:"Name"}))),e.createElement(s.Th,null,e.createElement(o.Z,{variant:"sigma",textColor:"neutral600"},l({id:"global.description",defaultMessage:"description"}))))),e.createElement(I.p,null,E.plugins.map(({name:u,displayName:F,description:H})=>e.createElement(v.Tr,{key:u},e.createElement(s.Td,null,e.createElement(o.Z,{textColor:"neutral800",variant:"omega",fontWeight:"bold"},l({id:`global.plugins.${u}`,defaultMessage:F}))),e.createElement(s.Td,null,e.createElement(o.Z,{textColor:"neutral800"},l({id:`global.plugins.${u}.description`,defaultMessage:H}))))))))))},x=()=>{const{formatMessage:l}=(0,d.Z)(),a=(0,h.v9)(p._);return e.createElement(n.CheckPagePermissions,{permissions:a.marketplace.main},e.createElement(P.q,{title:l({id:"global.plugins",defaultMessage:"Plugins"})}),e.createElement(A,null))}}}]);
